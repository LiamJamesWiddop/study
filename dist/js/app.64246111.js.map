{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/App.vue?6ec7","webpack:///./src/views/Editor.vue?a696","webpack:///./src/views/Osce.vue","webpack:///./src/components/VueButton.vue","webpack:///./src/components/VueButton.vue?2b10","webpack:///./src/views/Quiz.vue?14c0","webpack:///./src/components/Editable.vue?945f","webpack:///./src/components/Editable.vue?9a4d","webpack:///./src/views/Root.vue","webpack:///./src/components/ripple.vue?aa75","webpack:///./src/components/Question.vue?b3e2","webpack:///./src/components/Question.vue?2b31","webpack:///./src/components/ripple.vue?07e5","webpack:///./src/components/Editable.vue","webpack:///./src/views/Quiz.vue","webpack:///./src/components/spinLoader.vue?e369","webpack:///./src/subscriber.ts","webpack:///./src/components/informationPopup.vue?0699","webpack:///./src/views/Quiz.vue?52db","webpack:///./src/views/Quiz.vue?7ded","webpack:///./src/components/spinLoader.vue?f626","webpack:///./src/views/Osce.vue?ea12","webpack:///./src/components/ripple.vue?6474","webpack:///./src/App.vue?dfb6","webpack:///./src/components/Question.vue?bc4d","webpack:///./src/views/Editor.vue?62bb","webpack:///./src/components/VueButton.vue?8c89","webpack:///./src/views/Osce.vue?68e9","webpack:///./src/components/Question.vue?4f3b","webpack:///./src/views/Data.vue?4868","webpack:///./src/components/informationPopup.vue","webpack:///./src/components/NavBar.vue?882e","webpack:///./src/router.ts","webpack:///./src/App.vue?3f7e","webpack:///./src/views/Osce.vue?45ed","webpack:///./src/views/Editor.vue?197e","webpack:///./src/views/Root.vue?0d50","webpack:///./src/components/Editable.vue?5c70","webpack:///./src/components/autofill.vue","webpack:///./src/components/ripple.vue?53ee","webpack:///./src/components/PerformanceBar.vue?6d29","webpack:///./src/views/Data.vue?33ed","webpack:///./src/views/Root.vue?ae7e","webpack:///./src/components/autofill.vue?f155","webpack:///./src/components/ripple.vue","webpack:///./src/components/PerformanceBar.vue?39d1","webpack:///./src/components/spinLoader.vue","webpack:///./src/App.vue?3acc","webpack:///./src/components/NavBar.vue?fc1e","webpack:///./src/components/autofill.vue?a8b4","webpack:///./src/components/NavBar.vue","webpack:///./src/components/informationPopup.vue?8a8b","webpack:///./src/views/Root.vue?29ed","webpack:///./src/views/Root.vue?5e35","webpack:///./src/views/Quiz.vue?6fc9","webpack:///./src/views/Editor.vue","webpack:///./src/main.ts","webpack:///./src/components/NavBar.vue?ab0f","webpack:///./src/components/Editable.vue?095e","webpack:///./src/components/NavBar.vue?a890","webpack:///./src/components/Editable.vue?f117","webpack:///./src/views/Osce.vue?db69","webpack:///./src/components/spinLoader.vue?2684","webpack:///./src/components/autofill.vue?039b","webpack:///./src/components/informationPopup.vue?9fa2","webpack:///./src/websocketHandler.ts","webpack:///./src/views/Data.vue?c197","webpack:///./src/views/Data.vue?05c8","webpack:///./store/databaseStore.ts","webpack:///./src/views/Data.vue","webpack:///./src/components/autofill.vue?d8c1","webpack:///./src/components/PerformanceBar.vue?76a7","webpack:///./src/components/VueButton.vue?4028","webpack:///./src/components/PerformanceBar.vue?764e","webpack:///./src/components/Question.vue","webpack:///./src/App.vue","webpack:///./src/components/VueButton.vue?4b4c","webpack:///./src/views/Editor.vue?b93b","webpack:///./src/components/spinLoader.vue?8bce","webpack:///./src/components/informationPopup.vue?e313","webpack:///./src/components/PerformanceBar.vue","webpack:///./src/requestHandler.ts"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","exports","module","l","m","c","d","name","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","p","jsonpArray","window","oldJsonpFunction","slice","Editor","form","deleteAwait","saveAwait","dataObject","loading","dbState","popupData","popupCoords","this","init","getDbState","getData","events","globalEvents","html","document","documentElement","onkeydown","e","ctrlKey","which","save","preventDefault","undefined","setDataVars","setPopupData","addEventListener","$route","params","dataId","id","console","log","Promise","resolve","reject","$request","POST","res","coords","parseInlineMarkers","createQuestions","confirm","table","fields","entries","entry_id","tmp","createElement","innerHTML","searchElement","element","index","markersToCheck","markers","children","className","marker","dataset","text","createTextNode","replaceChild","child","autoFillObject","newValue","field","tables","select","$store","state","$router","Vue","Watch","Options","components","VueButton","NavBar","Editable","InformationPopup","emits","class","condition","clicked","render","__scopeId","Ripple","ripples","updateTimerID","rippleContainer","$refs","parentElement","parent","getBorderRadius","createListeners","css","getComputedStyle","style","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","mouseDownListener","event","stopPropagation","getContainerProperties","x","clientX","y","clientY","maxCircleSize","getSize","newRipple","touchDownListener","touches","mouseUpListener","flagRipples","centreOffsetX","Math","abs","halfwidth","centreOffsetY","halfheight","maxWH","max","parentBox","getBoundingClientRect","left","top","width","height","removeEventListener","centerX","centerY","maxDiameter","ripple","Date","now","deletedAt","white","flagged","setInterval","clearInterval","updateRipples","Prop","fieldName","replace","toUpperCase","ref","contenteditable","keyPress","includes","autoFillValues","autoFillIndex","values","autoFillChosen","view","questionNumber","correct","incorrect","ratio","question","question_id","body","showAnswer","open","Subscriber","websocketHandler","StoreInstance","subscribeAction","action","payload","JSON","parse","method","string","stringify","sendJSONString","subscribe","mutator","SpinLoader","isLoading","fail","success","setTimeout","then","catch","err","reset","App","Question","getPlaceholders","replacePlaceholders","answer","props","msg","String","Data","diagnostics","diseaseAwait","drugAwait","item","await","metaData","dataFull","dataTemp","routes","path","component","hide","navPath","Router","createRouter","history","createWebHistory","navRoutes","route","currentRoute","choose","mixins","redirect","Quiz","active","nextQuestion","retrievingNextQuestion","searchFailLimit","spaceReleased","alert","nextAttemptDelta","showNextQuestion","getNextQuestion","ignoreId","questionArray","entry","exceptThis","entryObject","start","round","random","chosen","none","number","randomEntries","createQuiz","entriesTemp","includedEntries","time","getTime","PerformanceBar","autoFill","update","$event","setPopupCoords","a","del","ws","location","protocol","connect","host","hostname","port","socket","wsPlugin","store","createStore","database","plugins","REQ","Store","app","createApp","use","mount","config","globalProperties","valueDefault","valuesMap","placeholdersSet","insertHTML","closeAll","input","getElementsByClassName","addEvents","noMouseOver","mouseOn","rect","srcElement","display","type","min","pdi","url","filename","mimeType","fetch","arrayBuffer","buf","File","word","getWord","trim","getAutoFill","checksObject","autoFillTemp","found","filter","toLowerCase","sel","getSelection","modify","wordRange","selectedRange","getRangeAt","collapseToStart","deleteContents","newNode","innerText","contentEditable","insertNode","setStartAfter","setEndAfter","toString","removeAllRanges","addRange","match","regex","moreInstances","tempValue","failSafe","split","tableName","entity","outerHTML","elem","Emit","AutoFill","selectionCoords","range","cloneRange","getClientRects","collapse","rects","required","getTable","popup","WebsocketHandler","connecting","connectingCheck","onopen","triggerQueue","onmessage","startsWith","req","activeRequests","cb","error","send","databaseStore","databaseEntries","promise","callback","VuexModule","Mutation","Module","namespaced","stateFactory","newData","Button","Loader","updatePerc","perc","RequestHandler","requestQueue","reqCount","isModule","SEND","vuexModuleExists","payloadJSONstring","_mutations","commit","dispatch","hasModule","request"],"mappings":"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","file":"js/app.64246111.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","export { default } from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=script&lang=ts\"; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--14-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/ts-loader/index.js??ref--14-3!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=script&lang=ts\"","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport VueButton from '@/components/VueButton.vue';\r\nimport NavBar from '@/components/NavBar.vue';\r\nimport Editable from '@/components/Editable.vue';\r\nimport { Watch } from 'vue-property-decorator';\r\nimport InformationPopup from \"@/components/informationPopup.vue\";\r\n\r\n@Options({\r\n  components: { \r\n    VueButton,\r\n    NavBar,\r\n    Editable,\r\n    InformationPopup\r\n  },\r\n  emits:['update']\r\n})\r\nexport default class Editor extends Vue { \r\n    form:any = false;\r\n    dataId;\r\n    deleteAwait?:Promise<any> | boolean = false;\r\n    saveAwait?:Promise<any> | boolean = false;\r\n    dataObject:Object = {};\r\n    loading:boolean = false;\r\n    dbState:Array<any> = []\r\n    popupData:Object|boolean = false\r\n    popupCoords:{left?:string,top?:string} = {}\r\n\r\n    mounted(){\r\n      this.init();\r\n      this.getDbState();\r\n      this.getData();\r\n      this.events();\r\n      this.globalEvents();\r\n    }\r\n\r\n    globalEvents(){\r\n      let html = document.documentElement;\r\n      html.onkeydown = (e)=>{\r\n        if(e.ctrlKey){\r\n          if(e.which == 83){\r\n            this.save();\r\n            e.preventDefault();\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    @Watch('$route.params')\r\n    async init(){\r\n      this.dataObject = undefined;\r\n      this.dbState = [];\r\n      \r\n      this.loading = true;\r\n      this.setDataVars();\r\n      this.setPopupData(false);\r\n    }\r\n\r\n    events(){\r\n      document.addEventListener('click',(e)=>{\r\n        this.setPopupData(false);\r\n      })\r\n    }\r\n\r\n    setDataVars(){\r\n        this.form = this.$route.params.form;\r\n        this.dataId = this.$route.params.id;\r\n    }\r\n    async getData(){\r\n      console.log(\"CHANGED EDITOR DATA\");\r\n      \r\n      await new Promise((resolve,reject)=>{\r\n        this.$request.POST(`${this.form}/findOne`,{id:this.dataId},(res)=>{\r\n            this.dataObject = res;\r\n            resolve();\r\n        })\r\n      })\r\n    }\r\n\r\n    setPopupCoords(coords){\r\n      this.popupCoords = coords;\r\n    }\r\n    setPopupData(data){\r\n      this.popupData = data;\r\n    }\r\n    async save(){\r\n      this.parseInlineMarkers();\r\n      this.saveAwait = new Promise((resolve,reject)=>{\r\n        this.$request.POST(`${this.form}/save`, this.dataObject, async (res)=>{\r\n          console.log(res);\r\n          await this.createQuestions(this.form,res)\r\n          resolve();\r\n        })\r\n      })\r\n      await this.saveAwait;\r\n      console.log(\"RESOLVED\");\r\n    }\r\n    del(){\r\n      this.parseInlineMarkers();\r\n      if(confirm(`Are you sure you want to delete this ${this.form}? All its associations and quiz progress will be lost forever`)){\r\n        this.deleteAwait = new Promise((resolve,reject)=>{\r\n          this.$request.POST(`${this.form}/remove`, this.dataObject, (res)=>{\r\n            resolve();\r\n          })\r\n        })\r\n      }\r\n    }\r\n    async createQuestions(table,dataObject){\r\n      console.log(table,dataObject);\r\n      let fields = [];\r\n      for(let [key, value] of Object.entries(dataObject)){\r\n        console.log(typeof value);\r\n        if(key !== 'id' && typeof value !== \"object\"){\r\n          fields.push(key);\r\n        }\r\n      }\r\n      let data = {\r\n        table: table,\r\n        entry_id: dataObject.id,\r\n        fields:fields\r\n      }\r\n\r\n      await this.$request.POST(`question/createQuestions`, data, (res)=>{\r\n        console.log(\"RES\",res);\r\n      })\r\n      console.log(\"Finishing createQuestions\");\r\n    }\r\n\r\n    parseInlineMarkers(){\r\n      let tmp = document.createElement('div');\r\n      for(let [key, value] of Object.entries(this.dataObject)){\r\n        if(typeof value == \"string\"){\r\n          tmp.innerHTML = value;\r\n          this.searchElement(tmp)\r\n          this.dataObject[key] = tmp.innerHTML;\r\n        }\r\n      }\r\n    }\r\n\r\n    searchElement(element:Element){\r\n      let index = 0;\r\n      let markersToCheck = true;\r\n      let markers = element.children;\r\n      while(markersToCheck && index < 50){\r\n        if(!markers[index]){\r\n          markersToCheck = false;\r\n        }else if(markers[index].className == \"inlineMarker\"){\r\n          let marker = markers[0]\r\n          let id = (marker as HTMLElement).dataset.id;\r\n          let table = (marker as HTMLElement).dataset.table;\r\n          let text = document.createTextNode(`{{${table}_${id}}}`);\r\n          element.replaceChild(text,marker);\r\n        }else if(element.children){\r\n          for(let child of element.children){\r\n            this.searchElement(child);\r\n          }\r\n        }\r\n        index++;\r\n      }\r\n    }\r\n\r\n    autoFillChosen(autoFillObject){\r\n      if(this.dataObject[autoFillObject.table]){\r\n        this.dataObject[autoFillObject.table].push(autoFillObject);\r\n      }else{\r\n        this.dataObject[autoFillObject.table] = [autoFillObject];\r\n      }\r\n    }\r\n\r\n    update(newValue,field){ \r\n      if(typeof this.dataObject[field] == \"object\"){\r\n        this.dataObject[field] = this.dataObject[field] || {};\r\n        this.dataObject[field]['value'] = newValue;\r\n      }else this.dataObject[field] = newValue;\r\n    }\r\n\r\n    async getDbState(){\r\n      this.$request.POST(\"database/find\", {tables:['disease','diagnostic','drug','nondrug','sign','symptom'],data:{select:['name','id']}},()=>{\r\n        this.dbState = this.$store.state['database'].dbState;\r\n        this.loading = false;\r\n      });\r\n    }\r\n\r\n    open(name,form,id){\r\n      this.$router.push({name,params:{form,id}});\r\n    }    \r\n}\r\n","<template>\n  <div id=\"home\">\n    <NavBar></NavBar>\n    d\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar\n  },\n})\nexport default class App extends Vue { \n  \n}\n</script>\n\n<style>\n\n#home {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #000000;\n  margin-top: 60px;\n  max-width: 1200px;\n  margin:auto;\n}\n</style>\n","<template>\r\n  <div class=\"button\">\r\n    <Ripple/>\r\n    <Loader :condition=\"this.condition || clicked\">\r\n      <div class=\"buttonContent\">\r\n        {{ text }}\r\n      </div>\r\n    </Loader>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\nimport Ripple from '@/components/ripple.vue';\r\nimport Loader from '@/components/spinLoader.vue';\r\n\r\n@Options({\r\n  components: { \r\n    Loader,\r\n    Ripple\r\n  },\r\n})\r\nexport default class Button extends Vue {\r\n  @Prop() text:string;\r\n  @Prop() condition:Promise<any> | boolean;\r\n  clicked:boolean = false;\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n\r\n  .button{\r\n    width: auto;\r\n    cursor:pointer;\r\n    display: inline-block;\r\n    position: relative;\r\n    background: $grey;\r\n    border-radius: $radius;\r\n\r\n    .buttonContent{\r\n      padding: 5px;\r\n      height: 1em;\r\n      line-height: 1em;\r\n    }\r\n  }\r\n\r\n</style>\r\n","import { render } from \"./VueButton.vue?vue&type=template&id=2accbf24&scoped=true&bindings={}\"\nimport script from \"./VueButton.vue?vue&type=script&lang=ts\"\nexport * from \"./VueButton.vue?vue&type=script&lang=ts\"\n\nimport \"./VueButton.vue?vue&type=style&index=0&id=2accbf24&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-2accbf24\"\n\nexport default script","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Quiz.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Quiz.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=style&index=1&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=style&index=1&lang=scss\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=style&index=0&id=6402ae00&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=style&index=0&id=6402ae00&scoped=true&lang=scss\"","<template>\n  <div id=\"home\">\n    <NavBar></NavBar>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '../components/VueButton.vue';\nimport NavBar from '../components/NavBar.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar\n  },\n})\nexport default class App extends Vue { \n  \n}\n</script>\n\n<style>\n@import url(\"../assets/style.scss\");\n\n#home {\n  font-family: Avenir, Helvetica, Arial, sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n  text-align: left;\n  color: #000000;\n  margin-top: 60px;\n  max-width: 1200px;\n  margin:auto;\n}\n</style>\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Watch, Prop } from 'vue-property-decorator';\r\n\r\ninterface parentProperties {\r\n    x:number,\r\n    y:number,\r\n    halfwidth:number,\r\n    halfheight:number\r\n}\r\n\r\n@Options({\r\n\r\n})\r\nexport default class Ripple extends Vue {\r\n    @Prop({}) white: boolean;\r\n    @Prop({}) circle: boolean;\r\n\r\n    rippleContainer:HTMLElement;\r\n    parent:HTMLElement;\r\n    ripples: {\r\n        id: number,\r\n        deletedAt: number,\r\n        class:{\r\n            ripple:boolean,\r\n            white:boolean,\r\n            flagged:boolean\r\n        },\r\n        style: {\r\n            left: string,\r\n            top: string,\r\n            width: string,\r\n            height: string,\r\n        },\r\n    }[] = [];\r\n    updateTimerID: any | false = false;\r\n    mouseDownListener: any;\r\n    touchDownListener: any;\r\n    mouseUpListener: any;\r\n\r\n    mounted() { \r\n        this.rippleContainer = this.$refs.rippleContainer as HTMLElement;\r\n        if(this.rippleContainer.parentElement){\r\n            this.parent = this.rippleContainer.parentElement;\r\n        }\r\n        this.getBorderRadius();\r\n        this.createListeners();\r\n        this.events();\r\n    }\r\n\r\n    getBorderRadius(){\r\n        let css = window.getComputedStyle(this.parent, null);\r\n        this.rippleContainer.style.borderTopLeftRadius = css.borderTopLeftRadius;\r\n        this.rippleContainer.style.borderTopRightRadius = css.borderTopRightRadius;\r\n        this.rippleContainer.style.borderBottomLeftRadius = css.borderBottomLeftRadius;\r\n        this.rippleContainer.style.borderBottomRightRadius = css.borderBottomRightRadius;\r\n    }\r\n\r\n    createListeners(){\r\n        this.mouseDownListener = (event:MouseEvent):void => {\r\n            event.stopPropagation();\r\n            let parent:parentProperties = this.getContainerProperties();\r\n\r\n            // position\r\n            let x:number = event.clientX - parent.x;\r\n            let y:number = event.clientY - parent.y;\r\n\r\n            // size\r\n            let maxCircleSize:number = this.getSize(parent,x,y);\r\n            this.newRipple(x,y,maxCircleSize);\r\n        };\r\n\r\n        this.touchDownListener = (event:TouchEvent):void => {\r\n            let parent:parentProperties = this.getContainerProperties();\r\n\r\n            // position\r\n            let x:number = event.touches[0].clientX - parent.x;\r\n            let y:number = event.touches[0].clientY - parent.y;\r\n\r\n            \r\n            // size\r\n            let maxCircleSize:number = this.getSize(parent,x,y);\r\n            this.newRipple(x,y,maxCircleSize);\r\n        };\r\n\r\n        this.mouseUpListener = () => {\r\n            this.flagRipples();\r\n        };\r\n    }\r\n\r\n    getSize(parent:parentProperties,x:number,y:number):number{\r\n        // size\r\n        let centreOffsetX = Math.abs(parent.halfwidth - x);\r\n        let centreOffsetY = Math.abs(parent.halfheight - y);\r\n        let maxWH = Math.max(parent.halfwidth*2,parent.halfheight*2);\r\n        return (Math.max(centreOffsetX,centreOffsetY) * 2 + maxWH) * 1.5;\r\n    }\r\n\r\n    events(){\r\n        if(this.parent){\r\n            // mouse events\r\n            this.parent.addEventListener(\"mousedown\",this.mouseDownListener);\r\n            this.parent.addEventListener(\"mouseout\",this.mouseUpListener);\r\n            this.parent.addEventListener(\"mouseup\",this.mouseUpListener);\r\n\r\n            // touch events\r\n            this.parent.addEventListener(\"touchstart\",this.touchDownListener);\r\n            this.parent.addEventListener(\"touchout\",this.mouseUpListener);\r\n            this.parent.addEventListener(\"touchend\",this.mouseUpListener);\r\n        }\r\n    }\r\n\r\n    getContainerProperties():parentProperties{\r\n        let parentBox = this.rippleContainer.getBoundingClientRect();\r\n        return {\r\n            x:parentBox.left,\r\n            y:parentBox.top,\r\n            halfwidth:parentBox.width/2,\r\n            halfheight:parentBox.height/2\r\n        }\r\n    }\r\n    \r\n    beforeDestroy() {\r\n        let rippleContainer = this.$refs.rippleContainer as Element;\r\n        if(!parent) {return;}\r\n        parent.removeEventListener(\"mousedown\",this.mouseDownListener);\r\n        parent.removeEventListener(\"touchstart\",this.touchDownListener); \r\n        parent.removeEventListener(\"mouseout\",this.mouseUpListener);\r\n        parent.removeEventListener(\"touchout\",this.mouseUpListener);\r\n        parent.removeEventListener(\"mouseup\",this.mouseUpListener);\r\n        parent.removeEventListener(\"touchend\",this.mouseUpListener);\r\n    }\r\n\r\n    newRipple(centerX:number,centerY:number,maxDiameter:number) {\r\n        let ripple = {\r\n            id: Date.now(),\r\n            deletedAt: 0,\r\n            class:{\r\n                ripple:true,\r\n                white:this.white,\r\n                flagged:false\r\n            },\r\n            style: {\r\n                left: `${centerX - (maxDiameter / 2)}px`,\r\n                top: `${centerY - (maxDiameter / 2)}px`,\r\n                width: `${maxDiameter}px`,\r\n                height: `${maxDiameter}px`,\r\n            },\r\n        };\r\n        this.ripples.push(ripple);\r\n\r\n        if(this.updateTimerID === false) {\r\n            this.updateTimerID = setInterval(() => {\r\n                if(this.ripples.length === 0) {\r\n                    clearInterval(this.updateTimerID);\r\n                    this.updateTimerID = false;\r\n                    return;\r\n                }\r\n                this.updateRipples();\r\n            },1000);\r\n        }\r\n    }\r\n    \r\n    flagRipples() {\r\n        for(let ripple of this.ripples) {\r\n            if(!ripple.class.flagged) {\r\n                ripple.class.flagged = true;\r\n                ripple.deletedAt = Date.now();\r\n            }\r\n        }\r\n    }\r\n\r\n    updateRipples() {\r\n        let i = 0;\r\n        while(i < this.ripples.length) {\r\n            let ripple = this.ripples[i];\r\n\r\n            if(ripple.class.flagged && ((Date.now() - ripple.deletedAt) > 1000)) {\r\n                this.ripples.splice(i,1);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n    } \r\n}\r\n\r\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Question.vue?vue&type=style&index=0&id=3888382c&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Question.vue?vue&type=style&index=0&id=3888382c&scoped=true&lang=scss\"","import { render } from \"./Question.vue?vue&type=template&id=3888382c&scoped=true&bindings={}\"\nimport script from \"./Question.vue?vue&type=script&lang=ts\"\nexport * from \"./Question.vue?vue&type=script&lang=ts\"\n\nimport \"./Question.vue?vue&type=style&index=0&id=3888382c&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-3888382c\"\n\nexport default script","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ripple.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ripple.vue?vue&type=script&lang=ts\"","<template>\r\n  <div v-if=\"fieldName == 'name'\"  class=\"body\">\r\n    <h5>{{ fieldName.replace(/([a-z])([A-Z])/g, '$1 $2').toUpperCase() }}</h5>\r\n    <h2 ref=\"input\" class=\"textField\" contenteditable=\"true\" @keyup=\"keyPress\"></h2>\r\n  </div>\r\n  <div class=\"body\" v-else-if=\"fieldName !== 'id' && !fieldName.includes('relations')\">\r\n    <h5>{{ fieldName.replace(/([a-z])([A-Z])/g, '$1 $2').toUpperCase() }}</h5>\r\n    <div class=\"textField\" ref=\"input\" contenteditable=\"true\" @keydown=\"keyPress\" @keyup=\"keyPress\"></div>\r\n    <AutoFill v-if=\"autoFillValues && autoFillValues.length > 0\" :autoFillIndex=\"autoFillIndex\" :values=\"autoFillValues\" @choose=\"autoFillChosen\"/>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\nimport AutoFill from \"./autofill.vue\";\r\nimport fs from \"fs\"\r\n\r\n@Options({\r\n  props: {\r\n    \r\n  },\r\n  components: { \r\n    Editable,\r\n    AutoFill,\r\n  },\r\n  emits:['update','auto-fill-chosen','autoFillChosen','setPopupCoords','setPopupData']\r\n})\r\nexport default class Editable extends Vue {\r\n  @Prop({}) fieldName: String;\r\n  @Prop({}) value: any;\r\n  @Prop({}) autoFill: any;\r\n  \r\n  valueDefault:string|number|object = \"\";\r\n  newValue:string|number|object = \"\";\r\n  valuesMap:Map<any,any>|undefined = undefined;\r\n  autoFillValues:Object[]|boolean = false;\r\n  autoFillIndex:number=-1;\r\n  placeholdersSet:boolean=false;\r\n\r\n  mounted(){\r\n    this.replacePlaceholders();\r\n    this.insertHTML();\r\n  }\r\n\r\n  open(name,form,id){\r\n    this.$router.push({name,params:{form,id}});\r\n    this.closeAll();\r\n  } \r\n\r\n  insertHTML(){\r\n    if(typeof this.valueDefault == \"string\"){\r\n      (this.$refs.input as HTMLElement).innerHTML = this.valueDefault;\r\n    }\r\n    let d = document.getElementsByClassName('inlineMarker');\r\n    for(let marker of d){\r\n      this.addEvents(marker as HTMLDivElement);\r\n    }\r\n  }\r\n\r\n  addEvents(marker:HTMLDivElement, noMouseOver:boolean = true, open:Function = this.open){\r\n    let mouseOn = false;\r\n    if(noMouseOver){\r\n      marker.addEventListener('mouseover',(e)=>{\r\n        mouseOn = true;\r\n        setTimeout(()=>{\r\n          let rect = (e.srcElement as HTMLElement).getBoundingClientRect();\r\n          let coords = {\r\n            left: `${rect.left}px`,\r\n            top: `${rect.top + rect.height + 5}px`\r\n          }\r\n          this.setPopupCoords(coords);\r\n          if(mouseOn) this.display(e)\r\n        },300)\r\n      })\r\n      marker.addEventListener('mouseout',(e)=>{\r\n        mouseOn = false;\r\n      })\r\n    }\r\n    marker.addEventListener('click', ()=>{\r\n      let data = marker.dataset;\r\n      open(`editor`,data.table, data.id);\r\n    })\r\n  }\r\n\r\n  closeAll(){\r\n    this.setPopupData(false);\r\n    this.autoFillValues = false;\r\n  }\r\n\r\n  @Emit(\"setPopupData\")\r\n  setPopupData(value){\r\n    return value;\r\n  }\r\n  @Emit(\"setPopupCoords\")\r\n  setPopupCoords(value){\r\n    return value;\r\n  }\r\n\r\n  @Emit(\"update\")\r\n  keyPress(e?){\r\n    this.newValue = (this.$refs.input as HTMLElement).innerHTML;\r\n    if(e){\r\n      if(e.type==\"keyup\" && this.autoFillIndex>=0){\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n      if(e.which == 38){\r\n        this.autoFillIndex--\r\n        this.autoFillIndex = Math.max(0,this.autoFillIndex);\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }else if(e.which == 40){\r\n        this.autoFillIndex++;\r\n        this.autoFillIndex = Math.min((this.autoFillValues as Object[]).length-1,this.autoFillIndex);\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n  \r\n      if(e.which == 13 && this.autoFillIndex >= 0){\r\n        this.autoFillChosen(this.autoFillValues[this.autoFillIndex]);\r\n        this.autoFillIndex = -1; \r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n\r\n      if(e.which == 32 || e.which == 13){\r\n        this.closeAll();\r\n      }else if(this.placeholdersSet){\r\n        this.pdi();\r\n      }\r\n    }else{\r\n        this.closeAll();\r\n    }\r\n\r\n    return this.newValue;\r\n  }\r\n\r\n\r\n  urltoFile(url, filename, mimeType){\r\n      return (fetch(url)\r\n          .then(function(res){return res.arrayBuffer();})\r\n          .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n      );\r\n  }\r\n  \r\n  pdi(){\r\n    // PDI = check for: Presentations, Diagnostics, and Interventions\r\n    let word:string = this.getWord().trim();\r\n    if(word){\r\n        this.autoFillValues = this.getAutoFill({\r\n          name:word\r\n        });\r\n    }else{\r\n        delete this.autoFillValues;\r\n    }\r\n  }\r\n\r\n  getAutoFill(checksObject:Object){\r\n    let autoFillTemp = this.autoFill;\r\n    let res;\r\n    for(let [key,value] of Object.entries(checksObject)){\r\n      let found = autoFillTemp.filter(e => {\r\n        try{\r\n          return e[key].toLowerCase().includes(value.toLowerCase());\r\n        }catch(err){\r\n          return e[key] == value;\r\n        }     \r\n      });\r\n      autoFillTemp = found;\r\n    }\r\n    return autoFillTemp;\r\n  }\r\n \r\n  getWord(autoFill?) {\r\n    var sel:Selection, \r\n    word = \"\";\r\n    sel = document.getSelection()\r\n    // @ts-ignore\r\n    if (sel.modify){\r\n      let wordRange:Range;\r\n      let selectedRange:Range;\r\n      \r\n      selectedRange = sel.getRangeAt(0);\r\n      sel.collapseToStart();\r\n      // @ts-ignore\r\n      sel.modify(\"move\", \"backward\", \"word\");\r\n      // @ts-ignore\r\n      sel.modify(\"extend\", \"forward\", \"word\");\r\n      wordRange = sel.getRangeAt(0);\r\n\r\n      if(autoFill){\r\n        wordRange.deleteContents();\r\n        let newNode = document.createElement('div');\r\n        newNode.className=\"inlineMarker\";\r\n        newNode.innerText = autoFill.name;\r\n        newNode.dataset.id = autoFill.id;\r\n        newNode.dataset.table = autoFill.table;\r\n        newNode.contentEditable = \"false\";\r\n        selectedRange.insertNode(newNode);\r\n        selectedRange.setStartAfter(newNode);\r\n        selectedRange.setEndAfter(newNode);\r\n        this.autoFillValues = false;\r\n        this.keyPress();\r\n      }else{\r\n        word = sel.toString();\r\n      }\r\n      // Restore selection\r\n      sel.removeAllRanges();\r\n      sel.addRange(selectedRange);\r\n    }\r\n    return word;\r\n  }\r\n\r\n  @Emit(\"autoFillChosen\")\r\n  autoFillChosen(autoFill){\r\n    this.getWord(autoFill);\r\n    return autoFill;\r\n  }\r\n\r\n  replacePlaceholders(value?, dbState?){\r\n    if(typeof this.value !== \"string\" && !value) return;\r\n    let v = value\r\n    let regex = /{{(.*?)}}/im\r\n    let match;\r\n    let moreInstances = true;\r\n    let tempValue = value || this.value;\r\n    let failSafe = 0;\r\n    let autoFill = dbState || this.autoFill;\r\n    \r\n    while(moreInstances && failSafe<100){\r\n      if(tempValue != undefined){\r\n        match = tempValue.match(regex);\r\n        if(match){\r\n          let strLen = match[0].length;\r\n          let split = match[1].split(\"_\");\r\n          \r\n          let tableName = split[0]\r\n          let id = split[1]\r\n          let start = match.index;\r\n          \r\n          let entity = autoFill.filter(e => e.table.toLowerCase().includes(tableName.toLowerCase()) && e.id==id)[0];\r\n          \r\n          if(!entity){\r\n            entity = {\r\n              name: \"DELETED\",\r\n              id:0,\r\n            } \r\n          }\r\n          \r\n          let newNode = document.createElement('div');\r\n          newNode.className=\"inlineMarker\";\r\n          newNode.innerText = entity.name;\r\n          newNode.dataset.id = entity.id;\r\n          newNode.dataset.table = tableName;\r\n          newNode.contentEditable = \"false\";\r\n          tempValue = tempValue.replace(regex,newNode.outerHTML);\r\n        }else{\r\n          moreInstances = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if(value) return tempValue;\r\n    this.valueDefault = tempValue;\r\n    this.placeholdersSet = true;\r\n  }\r\n\r\n  display(event){\r\n    let elem = event.srcElement as HTMLElement;\r\n    this.setPopupData(this.getAutoFill(elem.dataset)[0]);\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n\r\n.body{\r\n  margin-bottom: 15px;\r\n}\r\n\r\n.textField{\r\n  border: 1px solid $grey;\r\n  padding: 5px;\r\n  white-space: pre-wrap;\r\n}\r\n\r\n</style>\r\n\r\n<style lang=\"scss\">\r\n.inlineMarker{\r\n  display: inline-block;\r\n  background: $prim;\r\n  color: white;\r\n  cursor: pointer;\r\n}\r\n</style>\r\n","<template>\n  <div id=\"home\">\n    <NavBar></NavBar>\n    <template v-if=\"view && view == 'questions'\">\n      <section>\n        <div class=\"header\">\n          <h3>Question {{questionNumber}}</h3>\n        </div>\n        <div class=\"metaData\">\n          <PerformanceBar :correct=\"correct\" :incorrect=\"incorrect\" :ratio=\"ratio\"/>\n        </div>\n        <template v-if=\"question && question.question_id\">\n          <Question v-if=\"question.question_id\" :values=\"question.body\" :showAnswer=\"showAnswer\"/> \n        </template>\n        <template v-else-if=\"question\">\n          Retrieving question\n        </template>\n        <template v-else>\n          No question\n        </template>\n      </section>\n      \n    </template>\n\n    <template v-if=\"!view\">\n      <section>\n        <div class=\"header\">\n          <h3>Quiz home</h3>\n        </div>\n        <VueButton text=\"Start a quiz\" @click=\"open('quiz',{view:'questions'})\"/>\n      </section>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport { Prop, Watch } from 'vue-property-decorator';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\nimport PerformanceBar from '@/components/PerformanceBar.vue';\nimport Question from '@/components/Question.vue';\nimport Editable from \"@/components/Editable.vue\"\nimport {Not} from \"typeorm\"\n\n@Options({\n  components: { \n    VueButton,\n    NavBar,\n    Question,\n    PerformanceBar\n  },\n})\nexport default class Quiz extends Vue { \n  \n  dbState:Array<any> = [];\n  view:string|string[] = '';\n  active:number = -1;\n  question:any = {};\n  nextQuestion:any = {};\n  retrievingNextQuestion:boolean = false\n  searchFailLimit:number = 0;\n  questionNumber:number = 0;\n  showAnswer:boolean = false;\n  spaceReleased:boolean = true;\n\n  correct:number = 0;\n  incorrect:number = 0;\n  ratio:number = 0;\n\n  mounted(){\n    this.init();\n    this.events();\n  }\n\n  @Watch('$route.params')\n  getParams(){\n    this.question = {};\n    this.view = this.$route.params.view;\n    this.init();\n  }\n\n  events(){\n    document.addEventListener('keyup',async (e)=>{\n      if(e.which == 32) this.spaceReleased = true;\n    })\n    document.addEventListener('keydown',async (e)=>{\n      if(this.view == \"questions\"){ \n        if((e.which == 32) && this.spaceReleased){\n          this.spaceReleased = false;\n          if(this.showAnswer){\n            if(this.retrievingNextQuestion){\n              alert(\"Waiting on next question\");\n              return;\n            }else{\n              if(e.ctrlKey){\n                this.incorrect++\n              }else{\n                this.correct++;\n              }\n              let attempt = await this.$request.POST(`question/questionAttempt`,{\n                  question_id:this.question.question_id,\n                  correct:e.ctrlKey?false:true,\n                  question:this.question.question,\n                  nextAttemptDelta:this.question.nextAttemptDelta\n              },()=>{})\n              \n              this.question = false;\n              setTimeout(()=>{\n                this.showNextQuestion();\n                this.showAnswer = false;\n              },10)\n            }\n          }else{\n            this.showAnswer = true;\n          }\n        }\n      }\n    })\n  }\n\n  async init(){   \n    if(this.view == \"questions\"){ \n      await this.getDbState();\n      await this.getNextQuestion();\n      this.showNextQuestion();\n    }\n  }\n\n  async getDbState(){\n    await this.$request.POST(\"database/find\", {tables:['disease','drug','nondrug','diagnostic','symptom','sign'],data:{select:['id','name']}},(res)=>{\n      this.dbState = res;\n    });\n  }\n\n  async showNextQuestion(){\n    this.question = this.nextQuestion;\n    this.nextQuestion = undefined;\n    this.active++;\n    await this.getNextQuestion();\n  }\n\n  async getNextQuestion(){\n    let ignoreId;\n    if(this.question && this.question.question_id){\n      ignoreId = this.question.question_id;\n    }\n    this.retrievingNextQuestion = true;\n    let questionArray = await this.$request.POST('question/getBest',ignoreId,()=>{})\n    this.retrievingNextQuestion = false;\n    this.nextQuestion = questionArray[0];\n  }\n\n  randomEntryField(entry,exceptThis){\n    let entryObject = Object.entries(entry);\n    let length = entryObject.length - 1;\n    let start = Math.round(Math.random() * length);\n    let index = start==length?0:start+1;\n    \n    let chosen:string|boolean = false;\n    let none = false;\n    \n    while(!chosen && !none){\n      let [key,value] = entryObject[index];\n      if(key!=\"id\" && key!=\"name\" && key != exceptThis){\n        if(value){\n          chosen = key;\n        } \n      }\n      if(index == start){\n        none = true;\n      }\n      \n      index++\n      if(index > length){\n        index = 0;\n      }\n    }\n    if(none){\n      return false;\n    }else{\n      return chosen;\n    }\n  }\n\n  newQuiz(number){\n    let randomEntries = this.randomEntries(number);\n    this.createQuiz(randomEntries);\n  }\n\n  randomEntries(number){\n    let entriesTemp = this.dbState;\n    let includedEntries = [];\n    let covered = [];\n    \n    for(let i=0;i<number;){\n      let index = Math.round(Math.random() * this.dbState.length);\n      if(entriesTemp[index]){\n        let entry = entriesTemp[index];\n        includedEntries.push({\n          entry_id:entry.id,\n          table:entry.table,\n        });\n        i++\n      }\n    }\n    return includedEntries;\n  }\n\n  createQuiz(randomEntries){\n    this.$request.POST(`quiz/new`,{question:randomEntries, time: new Date().getTime()},(res)=>{\n      this.open(`quiz`,{view:'questions',id:res.id});\n    })\n  }\n\n  async removeQuestion(question){\n    this.$request.POST(`quizquestion/remove`,question,(res)=>{\n      console.log(\"REMOVED\",res);\n    })\n    await this.getNextQuestion();\n  }\n\n  save(question){\n    this.$request.POST(`quizquestion/save`,question,(res)=>{\n      console.log(\"SAVED\",res);\n    })\n  }\n\n  open(name,params){\n    this.$router.push({name,params:params});\n  }  \n}\n</script>\n\n<style>\n\n.header{\n  padding: 15px 0px;\n}\n.metaData{\n  padding: 0px;\n  padding-bottom: 25px;\n}\n</style>\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./spinLoader.vue?vue&type=style&index=0&id=4d8eef9c&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./spinLoader.vue?vue&type=style&index=0&id=4d8eef9c&lang=scss&scoped=true\"","import { Store } from \"vuex\";\r\nexport default function Subscriber(websocketHandler){   \r\n    return (StoreInstance:Store<any>)=>{\r\n        if(StoreInstance){\r\n            StoreInstance.subscribeAction((action) => {\r\n                let payload = JSON.parse(action.payload.payload);\r\n                if(payload.method){\r\n                    let string = JSON.stringify(payload);\r\n                    websocketHandler.sendJSONString(string);\r\n                }\r\n            })\r\n            StoreInstance.subscribe((mutator) => {\r\n                let payload = JSON.parse(mutator.payload.payload);\r\n                if(payload.method){\r\n                    let string = JSON.stringify(payload);\r\n                    websocketHandler.sendJSONString(string);\r\n                }\r\n            })\r\n        }\r\n    }\r\n}","import { render } from \"./informationPopup.vue?vue&type=template&id=445c25a0&scoped=true&bindings={}\"\nimport script from \"./informationPopup.vue?vue&type=script&lang=ts\"\nexport * from \"./informationPopup.vue?vue&type=script&lang=ts\"\n\nimport \"./informationPopup.vue?vue&type=style&index=0&id=445c25a0&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-445c25a0\"\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Quiz.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Quiz.vue?vue&type=style&index=0&lang=css\"","import { render } from \"./Quiz.vue?vue&type=template&id=15592b64&bindings={}\"\nimport script from \"./Quiz.vue?vue&type=script&lang=ts\"\nexport * from \"./Quiz.vue?vue&type=script&lang=ts\"\n\nimport \"./Quiz.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Watch, Prop } from 'vue-property-decorator';\r\nimport Alert from '@/components/alert.vue'; \r\n\r\n@Options({\r\n  components:{\r\n    \r\n  }\r\n})\r\nexport default class SpinLoader extends Vue {\r\n  isLoading:boolean = false;\r\n  fail:boolean = false;\r\n  success:boolean = false;\r\n\r\n  @Prop({}) coloured:boolean;\r\n  @Prop({}) condition:Promise<any> | boolean;\r\n\r\n  reset(){\r\n    setTimeout(()=>{\r\n      this.success = false;\r\n      this.fail = false;\r\n    },1500)\r\n  }\r\n\r\n  @Watch('condition') \r\n  async isPromise(){\r\n    // new Alert({\r\n    //   text: \"yes\",\r\n    //   timeout: 1000\r\n    // })\r\n    if(typeof this.condition == \"boolean\"){\r\n      this.isLoading = this.condition;\r\n    }else{\r\n      this.isLoading = true;\r\n      await this.condition.then(()=>{\r\n        this.success = true;\r\n      }).catch(err=>{\r\n        this.fail = true;\r\n      });\r\n      this.isLoading = false;\r\n      this.reset();\r\n    }\r\n  }\r\n}  \r\n\r\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Osce.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Osce.vue?vue&type=style&index=0&lang=css\"","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ripple.vue?vue&type=style&index=0&id=d30a8e7e&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./ripple.vue?vue&type=style&index=0&id=d30a8e7e&lang=scss&scoped=true\"","import { render } from \"./App.vue?vue&type=template&id=1b5f9be1&bindings={}\"\nimport script from \"./App.vue?vue&type=script&lang=ts\"\nexport * from \"./App.vue?vue&type=script&lang=ts\"\n\nimport \"./App.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Question.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Question.vue?vue&type=script&lang=ts\"","import { render } from \"./Editor.vue?vue&type=template&id=2884048f&bindings={}\"\nimport script from \"./Editor.vue?vue&type=script&lang=ts\"\nexport * from \"./Editor.vue?vue&type=script&lang=ts\"\n\nimport \"./Editor.vue?vue&type=style&index=0&lang=scss\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VueButton.vue?vue&type=style&index=0&id=2accbf24&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VueButton.vue?vue&type=style&index=0&id=2accbf24&scoped=true&lang=scss\"","\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar\n  },\n})\nexport default class App extends Vue { \n  \n}\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\nimport Editable from \"./Editable.vue\"\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    Question,\r\n  },\r\n  emits:['save','empty']\r\n})\r\nexport default class Question extends Vue {\r\n  @Prop({}) values:any;\r\n  @Prop({}) showAnswer:boolean;\r\n  dbState;\r\n\r\n  mounted(){\r\n    this.dbState = this.$store.state['database'].dbState;\r\n    this.getPlaceholders()\r\n  }\r\n\r\n  getPlaceholders(){\r\n    console.log(\"GET PLACEHOLDERS\");\r\n    \r\n    this.values.body = Editable.prototype.replacePlaceholders(this.values.body,this.dbState);\r\n    this.values.answer = Editable.prototype.replacePlaceholders(this.values.answer,this.dbState);\r\n  }\r\n}\r\n","\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\nimport ripple from '@/components/ripple.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar,\n    ripple\n  },\n})\nexport default class Data extends Vue { \n\n  d:{\n    [table: string]:{\n      title:string,\n      await:Promise<any>,\n      data:[]\n    }\n  } = {}\n  \n  diagnostics:any[] = [];\n  diseaseAwait:Promise<any> | boolean = false;\n  drugAwait:Promise<any> | boolean = false;\n  loading:boolean = true;\n\n  mounted(){\n    this.getData();\n  }\n\n  async getData(){\n    this.d = await this.$request.POST(`database/find`, {tables:['disease','drug','nondrug','diagnostic','symptom','sign'],data:{select:['id','name']}}, (res)=>{});\n    for(let [key,item] of Object.entries(this.d)){\n      item = {...item, await:undefined}\n    }\n  }\n\n  open(name,form,id){\n    this.$router.push({name,params:{form,id}});\n  }\n\n  newData(table,metaData){\n    metaData.await = new Promise((resolve, reject)=>{\n      this.$request.POST(`${table}/new`, {}, (res)=>{\n        metaData.data = res;\n        resolve();\n        this.open(`editor`,table,res.id);\n        return res;\n      });\n    });\n  }\n}\n","<template>\r\n  <div class=\"InformationPopup\" ref=\"popup\" :style=\"coords\">\r\n    <h5 v-if=\"table\">{{ this.table.toUpperCase() }}</h5>\r\n    <template v-for=\"(data,field) in (dataFull || dataTemp)\" :key=\"field\">\r\n      <div v-if=\"typeof data == 'string'\">\r\n        <h3 v-if=\"field == 'name'\">{{ data }}</h3>\r\n        <div class=\"row\" v-else-if=\"typeof data == 'string' && field !== 'table'\">\r\n          <h5 class=\"field\">{{field.toUpperCase()}}:</h5>\r\n          <div class=\"data\" v-html=\"data\"></div>\r\n        </div>\r\n      </div>\r\n    </template>  \r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\nimport Editable from \"./Editable.vue\"\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    InformationPopup,\r\n  },\r\n  emits:['setPopupData']\r\n})\r\nexport default class InformationPopup extends Vue {\r\n  @Prop({})popupData:any\r\n  @Prop({})coords:{\r\n    left:string,\r\n    top:string\r\n  }\r\n\r\n  table:string = \"\";\r\n  dataTemp:any = \"\";\r\n  dataFull:any = \"\";\r\n  dbState:Array<any> = [];\r\n\r\n  mounted(){\r\n    this.init();\r\n  }\r\n\r\n  async init(){\r\n    this.getTable();\r\n    await this.getDbState();\r\n  }\r\n  \r\n  updated(){\r\n    let d = (this.$refs.popup as HTMLElement).getElementsByClassName('inlineMarker');\r\n    for(let marker of d){\r\n      Editable.prototype.addEvents(marker as HTMLDivElement, false, this.open);\r\n    }\r\n  }\r\n\r\n  open(name,form,id){\r\n    this.$router.push({name,params:{form,id}});\r\n    this.setPopupData(false);\r\n  } \r\n\r\n  @Watch('popupData')\r\n  async getTable(){\r\n    console.log(\"CHANGED POPUP DATA\");\r\n    \r\n    this.dataFull = undefined;\r\n    this.table = this.popupData.table;\r\n    this.dataTemp = this.popupData;\r\n    await this.getData();\r\n    await this.getDbState();\r\n    this.replacePlaceholders();\r\n  }\r\n\r\n  async getData(){\r\n    return new Promise((resolve,reject) => {\r\n      this.$request.POST(`${this.dataTemp.table}/findOne`,{id:this.dataTemp.id}, (res)=>{\r\n        if(res){\r\n          this.dataFull = res;\r\n          resolve();\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  replacePlaceholders(){\r\n    for(let [key,field] of Object.entries(this.dataFull)){\r\n      if(typeof field == \"string\"){\r\n        if(this.dbState.length > 0){\r\n          field = Editable.prototype.replacePlaceholders(field,this.dbState);\r\n          this.dataFull[key] = field;\r\n        }else{\r\n          alert('state not set');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async getDbState(){\r\n    this.dbState = this.$store.state['database'].dbState;\r\n  }\r\n\r\n  @Emit(\"setPopupData\")\r\n  setPopupData(value){\r\n    return value;\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n\r\n@keyframes enter {\r\n  0%{\r\n    transform: translate3d(0px, 10px, 0px);\r\n  }\r\n  100%{\r\n    transform: translate3d(0px, 0px, 0px);\r\n  }\r\n}\r\n.InformationPopup{\r\n  position: fixed;\r\n  background: white;\r\n  box-shadow: $lightShadow;\r\n  padding: 15px;\r\n  border-radius: $radius;\r\n  width: 300px;\r\n  max-width: 100vw;\r\n  transition: all 0.25s $cubic;\r\n  animation: enter 0.25s $cubic;\r\n  .row{\r\n    margin-bottom: 10px;\r\n    .field{\r\n      font-weight: 700;\r\n      margin-bottom: 5px;\r\n    }\r\n    .data{\r\n      max-height: 3em;\r\n      overflow: hidden;\r\n      text-overflow: ellipsis;\r\n    }\r\n  }\r\n}\r\n</style>\r\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=0260deeb&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=style&index=0&id=0260deeb&lang=scss&scoped=true\"","import { createWebHistory, createRouter } from \"vue-router\";\r\nimport Root from '@/views/Root.vue'\r\nimport Quiz from '@/views/Quiz.vue'\r\nimport Editor from '@/views/Editor.vue'\r\nimport Data from '@/views/Data.vue'\r\nimport Osce from '@/views/Osce.vue'\r\n\r\nexport const routes = [\r\n    {\r\n        path:\"/\",\r\n        name:\"home\",\r\n        component:Root,\r\n        hide:true,\r\n    },\r\n    {\r\n        path:\"/quiz/:view?/:id?\",\r\n        name:\"quiz\",\r\n        component:Quiz,\r\n        navPath:'/quiz',\r\n    },\r\n    {\r\n        path:\"/osce\",\r\n        name:\"osce\",\r\n        component:Osce\r\n    },\r\n    {\r\n        path:\"/data\",\r\n        name:\"data\",\r\n        component:Data,\r\n    },\r\n    // EDITOR FORMS\r\n    {\r\n        path:\"/editor/:form/:id\",\r\n        name:\"editor\",\r\n        component:Editor,\r\n        hide:true,\r\n    },\r\n    \r\n]\r\nconst Router = createRouter({\r\n    history: createWebHistory(),\r\n    routes,\r\n});\r\n\r\nexport const navRoutes = () => {\r\n    let navRoutes = [];\r\n    for(let route of routes){\r\n        if(!route.hide){\r\n            navRoutes.push(route)\r\n        }\r\n    }\r\n    return navRoutes;\r\n}\r\n\r\nexport let currentRoute = Router.currentRoute;\r\nexport default Router;","export { default } from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../node_modules/vue-loader-v16/dist/stylePostLoader.js!../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../node_modules/cache-loader/dist/cjs.js??ref--0-0!../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./App.vue?vue&type=style&index=0&lang=css\"","import { render } from \"./Osce.vue?vue&type=template&id=0aeef24f&bindings={}\"\nimport script from \"./Osce.vue?vue&type=script&lang=ts\"\nexport * from \"./Osce.vue?vue&type=script&lang=ts\"\n\nimport \"./Osce.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=style&index=0&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=style&index=0&lang=scss\"","import { render } from \"./Root.vue?vue&type=template&id=5b535be9&bindings={}\"\nimport script from \"./Root.vue?vue&type=script&lang=ts\"\nexport * from \"./Root.vue?vue&type=script&lang=ts\"\n\nimport \"./Root.vue?vue&type=style&index=0&lang=css\"\nscript.render = render\n\nexport default script","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editable.vue?vue&type=script&lang=ts\"","<template>\r\n  <div class=\"autofill\" :style=\"coords\" v-if=\"coords && values\">\r\n    <div :class=\"{option:true, hover:autoFillIndex == index}\" v-for=\"(value,index) in values\" :key=\"value\" @click=\"choose(value)\">{{ value.name }}</div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    AutoFill,\r\n  },\r\n  emits:['choose']\r\n})\r\nexport default class AutoFill extends Vue {\r\n  @Prop({required:true}) values:Object[];\r\n  @Prop({required:true}) autoFillIndex:number;\r\n  \r\n  coords:{\r\n    left?:string,\r\n    top?:string,\r\n  } = {}\r\n\r\n  mounted(){\r\n    this.update();\r\n  }\r\n\r\n  @Emit()\r\n  choose(value){\r\n    return value;\r\n  }\r\n\r\n  @Watch('values')\r\n  update(){\r\n    this.coords = this.selectionCoords();\r\n    console.log(this.coords);\r\n  }\r\n\r\n  selectionCoords(){\r\n    let coords = this.coords || {left:'0px',top:\"0px\"};\r\n    if(!this.coords.left){\r\n      let range = document.getSelection().getRangeAt(0).cloneRange();\r\n      if (range.getClientRects) {\r\n          range.collapse(true);\r\n          let rect;\r\n          let rects = range.getClientRects();\r\n          if (rects.length > 0) {\r\n              rect = rects[0];\r\n          }\r\n          if(rect){\r\n            coords.left = `${rect.left}px`;\r\n            coords.top = `${rect.top + 30}px`;\r\n          }else{\r\n            coords = {};\r\n          }\r\n      }\r\n    }\r\n    return coords;\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n\r\n  .autofill{\r\n    position: fixed;\r\n    background:#fff;\r\n    border: 1px solid black;\r\n    -webkit-user-select: none;  \r\n    -moz-user-select: none;    \r\n    -ms-user-select: none;      \r\n    user-select: none;\r\n    .option{\r\n      padding: 10px;\r\n      cursor: pointer;\r\n      &.hover{\r\n        background:$grey;\r\n      }\r\n    }\r\n  }\r\n\r\n</style>\r\n","import { render } from \"./ripple.vue?vue&type=template&id=d30a8e7e&scoped=true&bindings={}\"\nimport script from \"./ripple.vue?vue&type=script&lang=ts\"\nexport * from \"./ripple.vue?vue&type=script&lang=ts\"\n\nimport \"./ripple.vue?vue&type=style&index=0&id=d30a8e7e&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-d30a8e7e\"\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PerformanceBar.vue?vue&type=style&index=0&id=56fa1aa4&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PerformanceBar.vue?vue&type=style&index=0&id=56fa1aa4&scoped=true&lang=scss\"","import { render } from \"./Data.vue?vue&type=template&id=561fafa6&scoped=true&bindings={}\"\nimport script from \"./Data.vue?vue&type=script&lang=ts\"\nexport * from \"./Data.vue?vue&type=script&lang=ts\"\n\nimport \"./Data.vue?vue&type=style&index=0&id=561fafa6&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-561fafa6\"\n\nexport default script","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Root.vue?vue&type=style&index=0&lang=css\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Root.vue?vue&type=style&index=0&lang=css\"","import { render } from \"./autofill.vue?vue&type=template&id=6384809f&scoped=true&bindings={}\"\nimport script from \"./autofill.vue?vue&type=script&lang=ts\"\nexport * from \"./autofill.vue?vue&type=script&lang=ts\"\n\nimport \"./autofill.vue?vue&type=style&index=0&id=6384809f&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6384809f\"\n\nexport default script","<template>\r\n    <div class=\"rippleContainer\" ref=\"rippleContainer\">\r\n        <div :class=\"ripple.class\"\r\n        v-for=\"ripple in ripples\"\r\n        :key=\"ripple.id\"\r\n        :style=\"ripple.style\"></div>\r\n        <div class=\"ripple\"></div>\r\n    </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Watch, Prop } from 'vue-property-decorator';\r\n\r\ninterface parentProperties {\r\n    x:number,\r\n    y:number,\r\n    halfwidth:number,\r\n    halfheight:number\r\n}\r\n\r\n@Options({\r\n\r\n})\r\nexport default class Ripple extends Vue {\r\n    @Prop({}) white: boolean;\r\n    @Prop({}) circle: boolean;\r\n\r\n    rippleContainer:HTMLElement;\r\n    parent:HTMLElement;\r\n    ripples: {\r\n        id: number,\r\n        deletedAt: number,\r\n        class:{\r\n            ripple:boolean,\r\n            white:boolean,\r\n            flagged:boolean\r\n        },\r\n        style: {\r\n            left: string,\r\n            top: string,\r\n            width: string,\r\n            height: string,\r\n        },\r\n    }[] = [];\r\n    updateTimerID: any | false = false;\r\n    mouseDownListener: any;\r\n    touchDownListener: any;\r\n    mouseUpListener: any;\r\n\r\n    mounted() { \r\n        this.rippleContainer = this.$refs.rippleContainer as HTMLElement;\r\n        if(this.rippleContainer.parentElement){\r\n            this.parent = this.rippleContainer.parentElement;\r\n        }\r\n        this.getBorderRadius();\r\n        this.createListeners();\r\n        this.events();\r\n    }\r\n\r\n    getBorderRadius(){\r\n        let css = window.getComputedStyle(this.parent, null);\r\n        this.rippleContainer.style.borderTopLeftRadius = css.borderTopLeftRadius;\r\n        this.rippleContainer.style.borderTopRightRadius = css.borderTopRightRadius;\r\n        this.rippleContainer.style.borderBottomLeftRadius = css.borderBottomLeftRadius;\r\n        this.rippleContainer.style.borderBottomRightRadius = css.borderBottomRightRadius;\r\n    }\r\n\r\n    createListeners(){\r\n        this.mouseDownListener = (event:MouseEvent):void => {\r\n            event.stopPropagation();\r\n            let parent:parentProperties = this.getContainerProperties();\r\n\r\n            // position\r\n            let x:number = event.clientX - parent.x;\r\n            let y:number = event.clientY - parent.y;\r\n\r\n            // size\r\n            let maxCircleSize:number = this.getSize(parent,x,y);\r\n            this.newRipple(x,y,maxCircleSize);\r\n        };\r\n\r\n        this.touchDownListener = (event:TouchEvent):void => {\r\n            let parent:parentProperties = this.getContainerProperties();\r\n\r\n            // position\r\n            let x:number = event.touches[0].clientX - parent.x;\r\n            let y:number = event.touches[0].clientY - parent.y;\r\n\r\n            \r\n            // size\r\n            let maxCircleSize:number = this.getSize(parent,x,y);\r\n            this.newRipple(x,y,maxCircleSize);\r\n        };\r\n\r\n        this.mouseUpListener = () => {\r\n            this.flagRipples();\r\n        };\r\n    }\r\n\r\n    getSize(parent:parentProperties,x:number,y:number):number{\r\n        // size\r\n        let centreOffsetX = Math.abs(parent.halfwidth - x);\r\n        let centreOffsetY = Math.abs(parent.halfheight - y);\r\n        let maxWH = Math.max(parent.halfwidth*2,parent.halfheight*2);\r\n        return (Math.max(centreOffsetX,centreOffsetY) * 2 + maxWH) * 1.5;\r\n    }\r\n\r\n    events(){\r\n        if(this.parent){\r\n            // mouse events\r\n            this.parent.addEventListener(\"mousedown\",this.mouseDownListener);\r\n            this.parent.addEventListener(\"mouseout\",this.mouseUpListener);\r\n            this.parent.addEventListener(\"mouseup\",this.mouseUpListener);\r\n\r\n            // touch events\r\n            this.parent.addEventListener(\"touchstart\",this.touchDownListener);\r\n            this.parent.addEventListener(\"touchout\",this.mouseUpListener);\r\n            this.parent.addEventListener(\"touchend\",this.mouseUpListener);\r\n        }\r\n    }\r\n\r\n    getContainerProperties():parentProperties{\r\n        let parentBox = this.rippleContainer.getBoundingClientRect();\r\n        return {\r\n            x:parentBox.left,\r\n            y:parentBox.top,\r\n            halfwidth:parentBox.width/2,\r\n            halfheight:parentBox.height/2\r\n        }\r\n    }\r\n    \r\n    beforeDestroy() {\r\n        let rippleContainer = this.$refs.rippleContainer as Element;\r\n        if(!parent) {return;}\r\n        parent.removeEventListener(\"mousedown\",this.mouseDownListener);\r\n        parent.removeEventListener(\"touchstart\",this.touchDownListener); \r\n        parent.removeEventListener(\"mouseout\",this.mouseUpListener);\r\n        parent.removeEventListener(\"touchout\",this.mouseUpListener);\r\n        parent.removeEventListener(\"mouseup\",this.mouseUpListener);\r\n        parent.removeEventListener(\"touchend\",this.mouseUpListener);\r\n    }\r\n\r\n    newRipple(centerX:number,centerY:number,maxDiameter:number) {\r\n        let ripple = {\r\n            id: Date.now(),\r\n            deletedAt: 0,\r\n            class:{\r\n                ripple:true,\r\n                white:this.white,\r\n                flagged:false\r\n            },\r\n            style: {\r\n                left: `${centerX - (maxDiameter / 2)}px`,\r\n                top: `${centerY - (maxDiameter / 2)}px`,\r\n                width: `${maxDiameter}px`,\r\n                height: `${maxDiameter}px`,\r\n            },\r\n        };\r\n        this.ripples.push(ripple);\r\n\r\n        if(this.updateTimerID === false) {\r\n            this.updateTimerID = setInterval(() => {\r\n                if(this.ripples.length === 0) {\r\n                    clearInterval(this.updateTimerID);\r\n                    this.updateTimerID = false;\r\n                    return;\r\n                }\r\n                this.updateRipples();\r\n            },1000);\r\n        }\r\n    }\r\n    \r\n    flagRipples() {\r\n        for(let ripple of this.ripples) {\r\n            if(!ripple.class.flagged) {\r\n                ripple.class.flagged = true;\r\n                ripple.deletedAt = Date.now();\r\n            }\r\n        }\r\n    }\r\n\r\n    updateRipples() {\r\n        let i = 0;\r\n        while(i < this.ripples.length) {\r\n            let ripple = this.ripples[i];\r\n\r\n            if(ripple.class.flagged && ((Date.now() - ripple.deletedAt) > 1000)) {\r\n                this.ripples.splice(i,1);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n    } \r\n}\r\n\r\n</script>\r\n \r\n<style lang=\"scss\" scoped>\r\n    .rippleContainer{\r\n        pointer-events: none;\r\n        position: absolute;\r\n        left:0;\r\n        right:0;\r\n        top:0;\r\n        bottom:0;\r\n        z-index: 999;\r\n        overflow: hidden;\r\n    }\r\n    .ripple{\r\n        position: absolute;\r\n        pointer-events: none;\r\n        transform: scale3d(1,1,1);\r\n        border-radius: 50%;\r\n        z-index: 99;\r\n        animation-name: expand;\r\n        animation-duration: 2s;\r\n        animation-timing-function: cubic-bezier(0,.25,.18,.92);\r\n        transition: all 0.6s $cubic;\r\n        opacity: 0.075;\r\n        background: $black;\r\n        z-index: 99;\r\n    }\r\n    .white{\r\n        background: #FFFFFF;\r\n        opacity: 0.3;\r\n    }\r\n    .flagged{\r\n        transform: scale3d(1,1,1);\r\n        opacity: 0;\r\n        animation-duration: 1.25s;\r\n    }\r\n\r\n    @keyframes expand {\r\n        from{\r\n            transform: scale3d(0,0,1);\r\n        }\r\n        to{\r\n            transform: scale3d(1,1,1)\r\n        }\r\n    }\r\n\r\n</style>\r\n\r\n","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PerformanceBar.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./PerformanceBar.vue?vue&type=script&lang=ts\"","<template>\r\n  <div class=\"spinLoaderWrapper\">\r\n    <div class=\"contentWrapper\">\r\n      <slot/>\r\n    </div>\r\n    <div :class=\"{\r\n    spinLoad:true,\r\n    coloured:coloured,\r\n    success:success,\r\n    fail:fail,\r\n      }\">\r\n      <template v-if=\"isLoading || success || fail\">\r\n        <div class=\"border\"></div>\r\n        <div v-if=\"!success && !fail\" class=\"block\"></div>\r\n        <div class=\"checkWrapper\">\r\n          <div v-if=\"success\" class=\"checkmark\"></div>\r\n          <div v-if=\"fail\" class=\"cross\"></div>\r\n        </div>\r\n      </template>\r\n    </div>\r\n    \r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Watch, Prop } from 'vue-property-decorator';\r\nimport Alert from '@/components/alert.vue'; \r\n\r\n@Options({\r\n  components:{\r\n    \r\n  }\r\n})\r\nexport default class SpinLoader extends Vue {\r\n  isLoading:boolean = false;\r\n  fail:boolean = false;\r\n  success:boolean = false;\r\n\r\n  @Prop({}) coloured:boolean;\r\n  @Prop({}) condition:Promise<any> | boolean;\r\n\r\n  reset(){\r\n    setTimeout(()=>{\r\n      this.success = false;\r\n      this.fail = false;\r\n    },1500)\r\n  }\r\n\r\n  @Watch('condition') \r\n  async isPromise(){\r\n    // new Alert({\r\n    //   text: \"yes\",\r\n    //   timeout: 1000\r\n    // })\r\n    if(typeof this.condition == \"boolean\"){\r\n      this.isLoading = this.condition;\r\n    }else{\r\n      this.isLoading = true;\r\n      await this.condition.then(()=>{\r\n        this.success = true;\r\n      }).catch(err=>{\r\n        this.fail = true;\r\n      });\r\n      this.isLoading = false;\r\n      this.reset();\r\n    }\r\n  }\r\n}  \r\n\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n  .contentWrapper{\r\n    z-index: 9;\r\n    position: relative;\r\n    padding: 3px;\r\n  }\r\n  .spinLoad{\r\n    position: absolute;\r\n    left:0;\r\n    right:0;\r\n    top:0;\r\n    bottom:0;\r\n    z-index: 0;\r\n    overflow: hidden;\r\n    border-radius: $radius;\r\n\r\n    .border{\r\n      position: absolute;\r\n      left:3px;\r\n      right:3px;\r\n      top:3px;\r\n      bottom:3px;\r\n      background: #FFFFFF;\r\n      border-radius:$radius;\r\n    }\r\n\r\n    &.coloured{\r\n      background: $prim;\r\n      .border{\r\n        background: $prim;\r\n      }\r\n    }\r\n    &.success{\r\n      background: $prim;\r\n      z-index: 9999;\r\n      .border{\r\n        background: $prim;\r\n      }\r\n    }\r\n    &.fail{\r\n      background: $red;\r\n      z-index: 9999;\r\n      .border{\r\n        background: $red;\r\n      }\r\n    }\r\n\r\n    .block{\r\n      position: absolute;\r\n      left:0;\r\n      top:0;\r\n      width: 100%;\r\n      height: 100%;\r\n      box-shadow: 0px 0px 5px 0px rgba(0,0,0,0.35);\r\n      border-radius: 50%;\r\n      transform-origin: 0% 50%;\r\n      background: rgba(0,0,0,0.35);\r\n      z-index: -1;\r\n      animation: spinner 2s linear infinite;\r\n    }\r\n  }\r\n\r\n\r\n  $ckH: 1em;\r\n  $ckW: 0.6em;\r\n  .checkWrapper{\r\n    position: absolute;\r\n    left:0;\r\n    right:0;\r\n    top:0;\r\n    bottom:0;\r\n    height: $ckW;\r\n    width: $ckH;\r\n    margin: auto;\r\n  }\r\n\r\n  .checkmark {\r\n    animation-duration: 300ms;\r\n    animation-timing-function: $cubic;\r\n    animation-name: checkmark;\r\n    transform: scaleX(-1) rotate(135deg);\r\n    opacity: 1;\r\n    height: $ckH;\r\n    width: $ckW;\r\n    box-shadow: 2px -2px 0px 0px #FFFFFF;\r\n    position: absolute;\r\n    transform-origin: top left;\r\n    top:0;\r\n  }\r\n  .cross {\r\n    animation-duration: 100ms;\r\n    animation-timing-function: $cubic;\r\n    animation-name: cross;\r\n    transform: rotate(-45deg);\r\n    opacity: 1;\r\n    height: $ckH;\r\n    width: 2px;\r\n    background: #FFFFFF;\r\n    position: absolute;\r\n    transform-origin: top left;\r\n    top:0;\r\n    &::after{\r\n      content:'';\r\n      animation-duration: 100ms;\r\n      animation-timing-function: $cubic;\r\n      animation-name: cross;\r\n      transform: rotate(90deg);\r\n      opacity: 1;\r\n      height: $ckH;\r\n      width: 2px;\r\n      background: #FFFFFF;\r\n      position: absolute;\r\n      transform-origin: top center;\r\n      top: $ckH/2;\r\n      left: $ckH/2\r\n    }\r\n  }\r\n\r\n  \r\n  @keyframes spinner{\r\n    0%{\r\n      transform: translate3d(75%,0px,0px) rotate(0deg);  \r\n    }\r\n    25%{\r\n      transform: translate3d(50%,0px,0px)  rotate(90deg);  \r\n    }\r\n    50%{\r\n      transform: translate3d(25%,0px,0px)  rotate(180deg);  \r\n    }\r\n    75%{\r\n      transform: translate3d(50%,0px,0px)  rotate(270deg);  \r\n    }\r\n    100%{\r\n      transform: translate3d(75%,0px,0px)  rotate(360deg);  \r\n    }\r\n  }\r\n  \r\n  @keyframes checkmark {\r\n    0% {\r\n      height: 0;\r\n      width: 0;\r\n      opacity: 1;\r\n    }\r\n    50% {\r\n      height: 0;\r\n      width: $ckW;\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      height: $ckH;\r\n      width: $ckW;\r\n      opacity: 1;\r\n    }\r\n  }\r\n  @keyframes cross {\r\n    0% {\r\n      height: 0;\r\n      opacity: 1;\r\n    }\r\n    100% {\r\n      height: $ckH;\r\n      opacity: 1;\r\n    }\r\n  }\r\n\r\n</style>\r\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\n\r\n@Options({\r\n  components: { \r\n  },\r\n  mixins: []\r\n})\r\nexport default class App extends Vue { \r\n  mounted(){\r\n    \r\n  }\r\n}\r\n","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./NavBar.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./autofill.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./autofill.vue?vue&type=script&lang=ts\"","<template>\r\n  <div class=\"NavBar\">\r\n      <h3>Hermes</h3>\r\n      <div :class=\"{_field:true, current:currentRoute.name == route.name}\" \r\n      v-for=\"route in routes\" \r\n      :key=\"route.path\" \r\n      @click=\"redirect(route.navPath || route.path)\">\r\n        {{route.name}}\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { navRoutes, currentRoute } from \"@/router\"\r\n\r\n@Options({\r\n  props: {\r\n  },\r\n  components: { \r\n    NavBar,\r\n  },\r\n})\r\nexport default class NavBar extends Vue {\r\n    routes=navRoutes();\r\n    currentRoute=currentRoute;\r\n\r\n    redirect(route:string){\r\n        this.$router.push(route);\r\n    } \r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style lang=\"scss\" scoped>\r\n    .NavBar{\r\n        height: 50px;\r\n        line-height: 50px;\r\n        display: grid;\r\n        grid-template-columns: 1fr auto auto auto auto;\r\n        background: #000000;\r\n        color: #fff;\r\n        padding: 0px 0px 0px 15px;\r\n        h3{\r\n          margin: 0px;\r\n        }\r\n        ._field{\r\n            width: auto;\r\n            padding: 0px 15px;\r\n            cursor: pointer;\r\n            &:hover{\r\n                opacity: 1;\r\n            }\r\n            &.current{\r\n                background: $prim;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./informationPopup.vue?vue&type=style&index=0&id=445c25a0&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./informationPopup.vue?vue&type=style&index=0&id=445c25a0&scoped=true&lang=scss\"","\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '../components/VueButton.vue';\nimport NavBar from '../components/NavBar.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar\n  },\n})\nexport default class App extends Vue { \n  \n}\n","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Root.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Root.vue?vue&type=script&lang=ts\"","\nimport { Options, Vue } from 'vue-class-component';\nimport { Prop, Watch } from 'vue-property-decorator';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\nimport PerformanceBar from '@/components/PerformanceBar.vue';\nimport Question from '@/components/Question.vue';\nimport Editable from \"@/components/Editable.vue\"\nimport {Not} from \"typeorm\"\n\n@Options({\n  components: { \n    VueButton,\n    NavBar,\n    Question,\n    PerformanceBar\n  },\n})\nexport default class Quiz extends Vue { \n  \n  dbState:Array<any> = [];\n  view:string|string[] = '';\n  active:number = -1;\n  question:any = {};\n  nextQuestion:any = {};\n  retrievingNextQuestion:boolean = false\n  searchFailLimit:number = 0;\n  questionNumber:number = 0;\n  showAnswer:boolean = false;\n  spaceReleased:boolean = true;\n\n  correct:number = 0;\n  incorrect:number = 0;\n  ratio:number = 0;\n\n  mounted(){\n    this.init();\n    this.events();\n  }\n\n  @Watch('$route.params')\n  getParams(){\n    this.question = {};\n    this.view = this.$route.params.view;\n    this.init();\n  }\n\n  events(){\n    document.addEventListener('keyup',async (e)=>{\n      if(e.which == 32) this.spaceReleased = true;\n    })\n    document.addEventListener('keydown',async (e)=>{\n      if(this.view == \"questions\"){ \n        if((e.which == 32) && this.spaceReleased){\n          this.spaceReleased = false;\n          if(this.showAnswer){\n            if(this.retrievingNextQuestion){\n              alert(\"Waiting on next question\");\n              return;\n            }else{\n              if(e.ctrlKey){\n                this.incorrect++\n              }else{\n                this.correct++;\n              }\n              let attempt = await this.$request.POST(`question/questionAttempt`,{\n                  question_id:this.question.question_id,\n                  correct:e.ctrlKey?false:true,\n                  question:this.question.question,\n                  nextAttemptDelta:this.question.nextAttemptDelta\n              },()=>{})\n              \n              this.question = false;\n              setTimeout(()=>{\n                this.showNextQuestion();\n                this.showAnswer = false;\n              },10)\n            }\n          }else{\n            this.showAnswer = true;\n          }\n        }\n      }\n    })\n  }\n\n  async init(){   \n    if(this.view == \"questions\"){ \n      await this.getDbState();\n      await this.getNextQuestion();\n      this.showNextQuestion();\n    }\n  }\n\n  async getDbState(){\n    await this.$request.POST(\"database/find\", {tables:['disease','drug','nondrug','diagnostic','symptom','sign'],data:{select:['id','name']}},(res)=>{\n      this.dbState = res;\n    });\n  }\n\n  async showNextQuestion(){\n    this.question = this.nextQuestion;\n    this.nextQuestion = undefined;\n    this.active++;\n    await this.getNextQuestion();\n  }\n\n  async getNextQuestion(){\n    let ignoreId;\n    if(this.question && this.question.question_id){\n      ignoreId = this.question.question_id;\n    }\n    this.retrievingNextQuestion = true;\n    let questionArray = await this.$request.POST('question/getBest',ignoreId,()=>{})\n    this.retrievingNextQuestion = false;\n    this.nextQuestion = questionArray[0];\n  }\n\n  randomEntryField(entry,exceptThis){\n    let entryObject = Object.entries(entry);\n    let length = entryObject.length - 1;\n    let start = Math.round(Math.random() * length);\n    let index = start==length?0:start+1;\n    \n    let chosen:string|boolean = false;\n    let none = false;\n    \n    while(!chosen && !none){\n      let [key,value] = entryObject[index];\n      if(key!=\"id\" && key!=\"name\" && key != exceptThis){\n        if(value){\n          chosen = key;\n        } \n      }\n      if(index == start){\n        none = true;\n      }\n      \n      index++\n      if(index > length){\n        index = 0;\n      }\n    }\n    if(none){\n      return false;\n    }else{\n      return chosen;\n    }\n  }\n\n  newQuiz(number){\n    let randomEntries = this.randomEntries(number);\n    this.createQuiz(randomEntries);\n  }\n\n  randomEntries(number){\n    let entriesTemp = this.dbState;\n    let includedEntries = [];\n    let covered = [];\n    \n    for(let i=0;i<number;){\n      let index = Math.round(Math.random() * this.dbState.length);\n      if(entriesTemp[index]){\n        let entry = entriesTemp[index];\n        includedEntries.push({\n          entry_id:entry.id,\n          table:entry.table,\n        });\n        i++\n      }\n    }\n    return includedEntries;\n  }\n\n  createQuiz(randomEntries){\n    this.$request.POST(`quiz/new`,{question:randomEntries, time: new Date().getTime()},(res)=>{\n      this.open(`quiz`,{view:'questions',id:res.id});\n    })\n  }\n\n  async removeQuestion(question){\n    this.$request.POST(`quizquestion/remove`,question,(res)=>{\n      console.log(\"REMOVED\",res);\n    })\n    await this.getNextQuestion();\n  }\n\n  save(question){\n    this.$request.POST(`quizquestion/save`,question,(res)=>{\n      console.log(\"SAVED\",res);\n    })\n  }\n\n  open(name,params){\n    this.$router.push({name,params:params});\n  }  \n}\n","<template>\r\n  <div id=\"page\">\r\n    <NavBar></NavBar>\r\n    <template v-if=\"dataObject\"> \r\n      <h3 class=\"table\" v-if=\"form\">{{ form.toUpperCase() }}</h3>\r\n      <template v-for=\"(value,field) in dataObject\" :key=\"field\">\r\n        <Editable \r\n        v-if=\"typeof value == 'string' && dbState.length > 0\" \r\n        :autoFill=\"dbState\" \r\n        :fieldName=\"field\" \r\n        :value=\"value\" \r\n        @update=\"update($event,field)\"\r\n        @autoFillChosen=\"autoFillChosen\"\r\n        @setPopupData=\"setPopupData\"\r\n        @setPopupCoords=\"setPopupCoords\"></Editable>\r\n\r\n        <div class=\"relations\" v-else-if=\"typeof value == 'object'\"> \r\n          <h5>{{ field.toUpperCase() }}</h5>\r\n          <div v-for=\"(a,index) in value\" :key=\"index\" @click=\"this.open(`editor`,field,a.id)\"> {{a.name}} </div>\r\n        </div>\r\n      </template>\r\n\r\n      <div id=\"footer\">\r\n        <div></div>\r\n        <VueButton text=\"Delete\" @click=\"del\" :condition=\"deleteAwait\"/>\r\n        <VueButton text=\"Save\" @click=\"save\" :condition=\"saveAwait\"/>\r\n      </div>\r\n\r\n      <InformationPopup v-if=\"popupData && popupData.table\" :coords=\"popupCoords\" :popupData=\"popupData\" @setPopupData=\"setPopupData\"/>\r\n    </template>\r\n    <template v-else-if=\"loading\">\r\n        <div class=\"relations\"> \r\n          Loading data...\r\n        </div>\r\n    </template>\r\n    <template v-else>\r\n        <div class=\"relations\"> \r\n          No data for this registry\r\n        </div>\r\n    </template>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport VueButton from '@/components/VueButton.vue';\r\nimport NavBar from '@/components/NavBar.vue';\r\nimport Editable from '@/components/Editable.vue';\r\nimport { Watch } from 'vue-property-decorator';\r\nimport InformationPopup from \"@/components/informationPopup.vue\";\r\n\r\n@Options({\r\n  components: { \r\n    VueButton,\r\n    NavBar,\r\n    Editable,\r\n    InformationPopup\r\n  },\r\n  emits:['update']\r\n})\r\nexport default class Editor extends Vue { \r\n    form:any = false;\r\n    dataId;\r\n    deleteAwait?:Promise<any> | boolean = false;\r\n    saveAwait?:Promise<any> | boolean = false;\r\n    dataObject:Object = {};\r\n    loading:boolean = false;\r\n    dbState:Array<any> = []\r\n    popupData:Object|boolean = false\r\n    popupCoords:{left?:string,top?:string} = {}\r\n\r\n    mounted(){\r\n      this.init();\r\n      this.getDbState();\r\n      this.getData();\r\n      this.events();\r\n      this.globalEvents();\r\n    }\r\n\r\n    globalEvents(){\r\n      let html = document.documentElement;\r\n      html.onkeydown = (e)=>{\r\n        if(e.ctrlKey){\r\n          if(e.which == 83){\r\n            this.save();\r\n            e.preventDefault();\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    @Watch('$route.params')\r\n    async init(){\r\n      this.dataObject = undefined;\r\n      this.dbState = [];\r\n      \r\n      this.loading = true;\r\n      this.setDataVars();\r\n      this.setPopupData(false);\r\n    }\r\n\r\n    events(){\r\n      document.addEventListener('click',(e)=>{\r\n        this.setPopupData(false);\r\n      })\r\n    }\r\n\r\n    setDataVars(){\r\n        this.form = this.$route.params.form;\r\n        this.dataId = this.$route.params.id;\r\n    }\r\n    async getData(){\r\n      console.log(\"CHANGED EDITOR DATA\");\r\n      \r\n      await new Promise((resolve,reject)=>{\r\n        this.$request.POST(`${this.form}/findOne`,{id:this.dataId},(res)=>{\r\n            this.dataObject = res;\r\n            resolve();\r\n        })\r\n      })\r\n    }\r\n\r\n    setPopupCoords(coords){\r\n      this.popupCoords = coords;\r\n    }\r\n    setPopupData(data){\r\n      this.popupData = data;\r\n    }\r\n    async save(){\r\n      this.parseInlineMarkers();\r\n      this.saveAwait = new Promise((resolve,reject)=>{\r\n        this.$request.POST(`${this.form}/save`, this.dataObject, async (res)=>{\r\n          console.log(res);\r\n          await this.createQuestions(this.form,res)\r\n          resolve();\r\n        })\r\n      })\r\n      await this.saveAwait;\r\n      console.log(\"RESOLVED\");\r\n    }\r\n    del(){\r\n      this.parseInlineMarkers();\r\n      if(confirm(`Are you sure you want to delete this ${this.form}? All its associations and quiz progress will be lost forever`)){\r\n        this.deleteAwait = new Promise((resolve,reject)=>{\r\n          this.$request.POST(`${this.form}/remove`, this.dataObject, (res)=>{\r\n            resolve();\r\n          })\r\n        })\r\n      }\r\n    }\r\n    async createQuestions(table,dataObject){\r\n      console.log(table,dataObject);\r\n      let fields = [];\r\n      for(let [key, value] of Object.entries(dataObject)){\r\n        console.log(typeof value);\r\n        if(key !== 'id' && typeof value !== \"object\"){\r\n          fields.push(key);\r\n        }\r\n      }\r\n      let data = {\r\n        table: table,\r\n        entry_id: dataObject.id,\r\n        fields:fields\r\n      }\r\n\r\n      await this.$request.POST(`question/createQuestions`, data, (res)=>{\r\n        console.log(\"RES\",res);\r\n      })\r\n      console.log(\"Finishing createQuestions\");\r\n    }\r\n\r\n    parseInlineMarkers(){\r\n      let tmp = document.createElement('div');\r\n      for(let [key, value] of Object.entries(this.dataObject)){\r\n        if(typeof value == \"string\"){\r\n          tmp.innerHTML = value;\r\n          this.searchElement(tmp)\r\n          this.dataObject[key] = tmp.innerHTML;\r\n        }\r\n      }\r\n    }\r\n\r\n    searchElement(element:Element){\r\n      let index = 0;\r\n      let markersToCheck = true;\r\n      let markers = element.children;\r\n      while(markersToCheck && index < 50){\r\n        if(!markers[index]){\r\n          markersToCheck = false;\r\n        }else if(markers[index].className == \"inlineMarker\"){\r\n          let marker = markers[0]\r\n          let id = (marker as HTMLElement).dataset.id;\r\n          let table = (marker as HTMLElement).dataset.table;\r\n          let text = document.createTextNode(`{{${table}_${id}}}`);\r\n          element.replaceChild(text,marker);\r\n        }else if(element.children){\r\n          for(let child of element.children){\r\n            this.searchElement(child);\r\n          }\r\n        }\r\n        index++;\r\n      }\r\n    }\r\n\r\n    autoFillChosen(autoFillObject){\r\n      if(this.dataObject[autoFillObject.table]){\r\n        this.dataObject[autoFillObject.table].push(autoFillObject);\r\n      }else{\r\n        this.dataObject[autoFillObject.table] = [autoFillObject];\r\n      }\r\n    }\r\n\r\n    update(newValue,field){ \r\n      if(typeof this.dataObject[field] == \"object\"){\r\n        this.dataObject[field] = this.dataObject[field] || {};\r\n        this.dataObject[field]['value'] = newValue;\r\n      }else this.dataObject[field] = newValue;\r\n    }\r\n\r\n    async getDbState(){\r\n      this.$request.POST(\"database/find\", {tables:['disease','diagnostic','drug','nondrug','sign','symptom'],data:{select:['name','id']}},()=>{\r\n        this.dbState = this.$store.state['database'].dbState;\r\n        this.loading = false;\r\n      });\r\n    }\r\n\r\n    open(name,form,id){\r\n      this.$router.push({name,params:{form,id}});\r\n    }    \r\n}\r\n</script>\r\n\r\n<style lang=\"scss\">\r\n\r\n\r\n.table{\r\n  padding-top: 25px;\r\n  margin: 0px;\r\n  margin-bottom: 15px;\r\n}\r\n.relations{\r\n  padding-top: 15px;\r\n  margin-bottom: 15px;\r\n  div{\r\n    cursor: pointer;\r\n    &:hover{\r\n      color:$prim;\r\n    }\r\n  }\r\n}\r\n\r\n#footer{ \r\n  display: grid;\r\n  grid-template-columns: 1fr auto auto;\r\n  grid-column-gap: 15px;\r\n}\r\n</style>\r\n","import { createApp } from 'vue';\nimport { createStore } from \"vuex\";\nimport App from \"./App.vue\";\nimport Router from \"./router\";\nimport WebsocketHandler from \"./websocketHandler\";\nimport WebsocketPlugin from \"./subscriber\";\nimport CONFIG from \"../config\";\nimport database from \"../store/databaseStore\";\nimport requestHandler from \"./requestHandler\"\n\nconst wsprotocol = location.protocol=='http:'?'ws:':'wss:';\nconst serverport = location.protocol=='http:'?80:443;\nlet ws;\nrequire(\"net\").connect({host: window.location.hostname, port: 80}, function(socket) {\n    ws = socket;\n});\n// const ws = new WebSocket(`${wsprotocol}//${window.location.hostname}:${serverport}`);\nconst websocketHandler = new WebsocketHandler(ws);\nconst wsPlugin = WebsocketPlugin(websocketHandler);\n\nexport const store = createStore({\n    state:{},\n    modules:{\n        database\n    },\n    plugins:[wsPlugin]\n})\n\nexport const REQ = new requestHandler;\nREQ.ws = websocketHandler;\nREQ.Store = store;\n\nexport const app = createApp(App);\napp.use(Router)\napp.use(store)\napp.mount('#app');\napp.config.globalProperties.$request = REQ;","import { render } from \"./NavBar.vue?vue&type=template&id=0260deeb&scoped=true&bindings={}\"\nimport script from \"./NavBar.vue?vue&type=script&lang=ts\"\nexport * from \"./NavBar.vue?vue&type=script&lang=ts\"\n\nimport \"./NavBar.vue?vue&type=style&index=0&id=0260deeb&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-0260deeb\"\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\nimport AutoFill from \"./autofill.vue\";\r\nimport fs from \"fs\"\r\n\r\n@Options({\r\n  props: {\r\n    \r\n  },\r\n  components: { \r\n    Editable,\r\n    AutoFill,\r\n  },\r\n  emits:['update','auto-fill-chosen','autoFillChosen','setPopupCoords','setPopupData']\r\n})\r\nexport default class Editable extends Vue {\r\n  @Prop({}) fieldName: String;\r\n  @Prop({}) value: any;\r\n  @Prop({}) autoFill: any;\r\n  \r\n  valueDefault:string|number|object = \"\";\r\n  newValue:string|number|object = \"\";\r\n  valuesMap:Map<any,any>|undefined = undefined;\r\n  autoFillValues:Object[]|boolean = false;\r\n  autoFillIndex:number=-1;\r\n  placeholdersSet:boolean=false;\r\n\r\n  mounted(){\r\n    this.replacePlaceholders();\r\n    this.insertHTML();\r\n  }\r\n\r\n  open(name,form,id){\r\n    this.$router.push({name,params:{form,id}});\r\n    this.closeAll();\r\n  } \r\n\r\n  insertHTML(){\r\n    if(typeof this.valueDefault == \"string\"){\r\n      (this.$refs.input as HTMLElement).innerHTML = this.valueDefault;\r\n    }\r\n    let d = document.getElementsByClassName('inlineMarker');\r\n    for(let marker of d){\r\n      this.addEvents(marker as HTMLDivElement);\r\n    }\r\n  }\r\n\r\n  addEvents(marker:HTMLDivElement, noMouseOver:boolean = true, open:Function = this.open){\r\n    let mouseOn = false;\r\n    if(noMouseOver){\r\n      marker.addEventListener('mouseover',(e)=>{\r\n        mouseOn = true;\r\n        setTimeout(()=>{\r\n          let rect = (e.srcElement as HTMLElement).getBoundingClientRect();\r\n          let coords = {\r\n            left: `${rect.left}px`,\r\n            top: `${rect.top + rect.height + 5}px`\r\n          }\r\n          this.setPopupCoords(coords);\r\n          if(mouseOn) this.display(e)\r\n        },300)\r\n      })\r\n      marker.addEventListener('mouseout',(e)=>{\r\n        mouseOn = false;\r\n      })\r\n    }\r\n    marker.addEventListener('click', ()=>{\r\n      let data = marker.dataset;\r\n      open(`editor`,data.table, data.id);\r\n    })\r\n  }\r\n\r\n  closeAll(){\r\n    this.setPopupData(false);\r\n    this.autoFillValues = false;\r\n  }\r\n\r\n  @Emit(\"setPopupData\")\r\n  setPopupData(value){\r\n    return value;\r\n  }\r\n  @Emit(\"setPopupCoords\")\r\n  setPopupCoords(value){\r\n    return value;\r\n  }\r\n\r\n  @Emit(\"update\")\r\n  keyPress(e?){\r\n    this.newValue = (this.$refs.input as HTMLElement).innerHTML;\r\n    if(e){\r\n      if(e.type==\"keyup\" && this.autoFillIndex>=0){\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n      if(e.which == 38){\r\n        this.autoFillIndex--\r\n        this.autoFillIndex = Math.max(0,this.autoFillIndex);\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }else if(e.which == 40){\r\n        this.autoFillIndex++;\r\n        this.autoFillIndex = Math.min((this.autoFillValues as Object[]).length-1,this.autoFillIndex);\r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n  \r\n      if(e.which == 13 && this.autoFillIndex >= 0){\r\n        this.autoFillChosen(this.autoFillValues[this.autoFillIndex]);\r\n        this.autoFillIndex = -1; \r\n        e.preventDefault();\r\n        return this.newValue;\r\n      }\r\n\r\n      if(e.which == 32 || e.which == 13){\r\n        this.closeAll();\r\n      }else if(this.placeholdersSet){\r\n        this.pdi();\r\n      }\r\n    }else{\r\n        this.closeAll();\r\n    }\r\n\r\n    return this.newValue;\r\n  }\r\n\r\n\r\n  urltoFile(url, filename, mimeType){\r\n      return (fetch(url)\r\n          .then(function(res){return res.arrayBuffer();})\r\n          .then(function(buf){return new File([buf], filename,{type:mimeType});})\r\n      );\r\n  }\r\n  \r\n  pdi(){\r\n    // PDI = check for: Presentations, Diagnostics, and Interventions\r\n    let word:string = this.getWord().trim();\r\n    if(word){\r\n        this.autoFillValues = this.getAutoFill({\r\n          name:word\r\n        });\r\n    }else{\r\n        delete this.autoFillValues;\r\n    }\r\n  }\r\n\r\n  getAutoFill(checksObject:Object){\r\n    let autoFillTemp = this.autoFill;\r\n    let res;\r\n    for(let [key,value] of Object.entries(checksObject)){\r\n      let found = autoFillTemp.filter(e => {\r\n        try{\r\n          return e[key].toLowerCase().includes(value.toLowerCase());\r\n        }catch(err){\r\n          return e[key] == value;\r\n        }     \r\n      });\r\n      autoFillTemp = found;\r\n    }\r\n    return autoFillTemp;\r\n  }\r\n \r\n  getWord(autoFill?) {\r\n    var sel:Selection, \r\n    word = \"\";\r\n    sel = document.getSelection()\r\n    // @ts-ignore\r\n    if (sel.modify){\r\n      let wordRange:Range;\r\n      let selectedRange:Range;\r\n      \r\n      selectedRange = sel.getRangeAt(0);\r\n      sel.collapseToStart();\r\n      // @ts-ignore\r\n      sel.modify(\"move\", \"backward\", \"word\");\r\n      // @ts-ignore\r\n      sel.modify(\"extend\", \"forward\", \"word\");\r\n      wordRange = sel.getRangeAt(0);\r\n\r\n      if(autoFill){\r\n        wordRange.deleteContents();\r\n        let newNode = document.createElement('div');\r\n        newNode.className=\"inlineMarker\";\r\n        newNode.innerText = autoFill.name;\r\n        newNode.dataset.id = autoFill.id;\r\n        newNode.dataset.table = autoFill.table;\r\n        newNode.contentEditable = \"false\";\r\n        selectedRange.insertNode(newNode);\r\n        selectedRange.setStartAfter(newNode);\r\n        selectedRange.setEndAfter(newNode);\r\n        this.autoFillValues = false;\r\n        this.keyPress();\r\n      }else{\r\n        word = sel.toString();\r\n      }\r\n      // Restore selection\r\n      sel.removeAllRanges();\r\n      sel.addRange(selectedRange);\r\n    }\r\n    return word;\r\n  }\r\n\r\n  @Emit(\"autoFillChosen\")\r\n  autoFillChosen(autoFill){\r\n    this.getWord(autoFill);\r\n    return autoFill;\r\n  }\r\n\r\n  replacePlaceholders(value?, dbState?){\r\n    if(typeof this.value !== \"string\" && !value) return;\r\n    let v = value\r\n    let regex = /{{(.*?)}}/im\r\n    let match;\r\n    let moreInstances = true;\r\n    let tempValue = value || this.value;\r\n    let failSafe = 0;\r\n    let autoFill = dbState || this.autoFill;\r\n    \r\n    while(moreInstances && failSafe<100){\r\n      if(tempValue != undefined){\r\n        match = tempValue.match(regex);\r\n        if(match){\r\n          let strLen = match[0].length;\r\n          let split = match[1].split(\"_\");\r\n          \r\n          let tableName = split[0]\r\n          let id = split[1]\r\n          let start = match.index;\r\n          \r\n          let entity = autoFill.filter(e => e.table.toLowerCase().includes(tableName.toLowerCase()) && e.id==id)[0];\r\n          \r\n          if(!entity){\r\n            entity = {\r\n              name: \"DELETED\",\r\n              id:0,\r\n            } \r\n          }\r\n          \r\n          let newNode = document.createElement('div');\r\n          newNode.className=\"inlineMarker\";\r\n          newNode.innerText = entity.name;\r\n          newNode.dataset.id = entity.id;\r\n          newNode.dataset.table = tableName;\r\n          newNode.contentEditable = \"false\";\r\n          tempValue = tempValue.replace(regex,newNode.outerHTML);\r\n        }else{\r\n          moreInstances = false;\r\n        }\r\n      }\r\n    }\r\n\r\n    if(value) return tempValue;\r\n    this.valueDefault = tempValue;\r\n    this.placeholdersSet = true;\r\n  }\r\n\r\n  display(event){\r\n    let elem = event.srcElement as HTMLElement;\r\n    this.setPopupData(this.getAutoFill(elem.dataset)[0]);\r\n  }\r\n}\r\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { navRoutes, currentRoute } from \"@/router\"\r\n\r\n@Options({\r\n  props: {\r\n  },\r\n  components: { \r\n    NavBar,\r\n  },\r\n})\r\nexport default class NavBar extends Vue {\r\n    routes=navRoutes();\r\n    currentRoute=currentRoute;\r\n\r\n    redirect(route:string){\r\n        this.$router.push(route);\r\n    } \r\n}\r\n","import { render } from \"./Editable.vue?vue&type=template&id=6402ae00&scoped=true&bindings={}\"\nimport script from \"./Editable.vue?vue&type=script&lang=ts\"\nexport * from \"./Editable.vue?vue&type=script&lang=ts\"\n\nimport \"./Editable.vue?vue&type=style&index=0&id=6402ae00&scoped=true&lang=scss\"\nimport \"./Editable.vue?vue&type=style&index=1&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-6402ae00\"\n\nexport default script","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Osce.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Osce.vue?vue&type=script&lang=ts\"","import { render } from \"./spinLoader.vue?vue&type=template&id=4d8eef9c&scoped=true&bindings={}\"\nimport script from \"./spinLoader.vue?vue&type=script&lang=ts\"\nexport * from \"./spinLoader.vue?vue&type=script&lang=ts\"\n\nimport \"./spinLoader.vue?vue&type=style&index=0&id=4d8eef9c&lang=scss&scoped=true\"\nscript.render = render\nscript.__scopeId = \"data-v-4d8eef9c\"\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    AutoFill,\r\n  },\r\n  emits:['choose']\r\n})\r\nexport default class AutoFill extends Vue {\r\n  @Prop({required:true}) values:Object[];\r\n  @Prop({required:true}) autoFillIndex:number;\r\n  \r\n  coords:{\r\n    left?:string,\r\n    top?:string,\r\n  } = {}\r\n\r\n  mounted(){\r\n    this.update();\r\n  }\r\n\r\n  @Emit()\r\n  choose(value){\r\n    return value;\r\n  }\r\n\r\n  @Watch('values')\r\n  update(){\r\n    this.coords = this.selectionCoords();\r\n    console.log(this.coords);\r\n  }\r\n\r\n  selectionCoords(){\r\n    let coords = this.coords || {left:'0px',top:\"0px\"};\r\n    if(!this.coords.left){\r\n      let range = document.getSelection().getRangeAt(0).cloneRange();\r\n      if (range.getClientRects) {\r\n          range.collapse(true);\r\n          let rect;\r\n          let rects = range.getClientRects();\r\n          if (rects.length > 0) {\r\n              rect = rects[0];\r\n          }\r\n          if(rect){\r\n            coords.left = `${rect.left}px`;\r\n            coords.top = `${rect.top + 30}px`;\r\n          }else{\r\n            coords = {};\r\n          }\r\n      }\r\n    }\r\n    return coords;\r\n  }\r\n}\r\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\nimport Editable from \"./Editable.vue\"\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    InformationPopup,\r\n  },\r\n  emits:['setPopupData']\r\n})\r\nexport default class InformationPopup extends Vue {\r\n  @Prop({})popupData:any\r\n  @Prop({})coords:{\r\n    left:string,\r\n    top:string\r\n  }\r\n\r\n  table:string = \"\";\r\n  dataTemp:any = \"\";\r\n  dataFull:any = \"\";\r\n  dbState:Array<any> = [];\r\n\r\n  mounted(){\r\n    this.init();\r\n  }\r\n\r\n  async init(){\r\n    this.getTable();\r\n    await this.getDbState();\r\n  }\r\n  \r\n  updated(){\r\n    let d = (this.$refs.popup as HTMLElement).getElementsByClassName('inlineMarker');\r\n    for(let marker of d){\r\n      Editable.prototype.addEvents(marker as HTMLDivElement, false, this.open);\r\n    }\r\n  }\r\n\r\n  open(name,form,id){\r\n    this.$router.push({name,params:{form,id}});\r\n    this.setPopupData(false);\r\n  } \r\n\r\n  @Watch('popupData')\r\n  async getTable(){\r\n    console.log(\"CHANGED POPUP DATA\");\r\n    \r\n    this.dataFull = undefined;\r\n    this.table = this.popupData.table;\r\n    this.dataTemp = this.popupData;\r\n    await this.getData();\r\n    await this.getDbState();\r\n    this.replacePlaceholders();\r\n  }\r\n\r\n  async getData(){\r\n    return new Promise((resolve,reject) => {\r\n      this.$request.POST(`${this.dataTemp.table}/findOne`,{id:this.dataTemp.id}, (res)=>{\r\n        if(res){\r\n          this.dataFull = res;\r\n          resolve();\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  replacePlaceholders(){\r\n    for(let [key,field] of Object.entries(this.dataFull)){\r\n      if(typeof field == \"string\"){\r\n        if(this.dbState.length > 0){\r\n          field = Editable.prototype.replacePlaceholders(field,this.dbState);\r\n          this.dataFull[key] = field;\r\n        }else{\r\n          alert('state not set');\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  async getDbState(){\r\n    this.dbState = this.$store.state['database'].dbState;\r\n  }\r\n\r\n  @Emit(\"setPopupData\")\r\n  setPopupData(value){\r\n    return value;\r\n  }\r\n}\r\n","import {REQ} from \"./main\"\r\n\r\nexport default class WebsocketHandler{\r\n    socket:WebSocket;\r\n    connecting:boolean = true;\r\n    constructor(socket:WebSocket){\r\n        this.socket = socket;\r\n        this.connectingCheck();\r\n        this.events();\r\n    }\r\n\r\n    connectingCheck(){\r\n        \r\n    }\r\n    events(){\r\n        this.socket.onopen = (event)=>{  \r\n            this.connecting = false;\r\n            REQ.triggerQueue();\r\n        }\r\n\r\n        this.socket.onmessage = (event) => {\r\n            if(event.data && !event.data.startsWith(\"ERROR\")){\r\n                let res = JSON.parse(event.data);  \r\n\r\n                if(res.id){\r\n                    // NO ERROR\r\n                    let req = REQ.activeRequests[res.id];\r\n                    req.resolve(res.data);\r\n                    req.cb(res.data);\r\n                }else{\r\n                    // ERROR\r\n                    console.error(null,event.data);\r\n                }\r\n            }else{\r\n                // STARTS WITH ERROR\r\n                console.error(null,event.data);\r\n            }\r\n        }\r\n    }\r\n    sendJSONString(payload:string){\r\n        this.socket.send(payload);\r\n    }\r\n}","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Data.vue?vue&type=style&index=0&id=561fafa6&lang=scss&scoped=true\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Data.vue?vue&type=style&index=0&id=561fafa6&lang=scss&scoped=true\"","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Data.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Data.vue?vue&type=script&lang=ts\"","import { Module, VuexModule, Mutation, Action } from 'vuex-module-decorators'\r\n\r\n@Module({ \r\n  namespaced:true, \r\n  stateFactory: true,\r\n})\r\nexport default class databaseStore extends VuexModule {\r\n  \r\n  databaseEntries:Array<any> = []\r\n  dbState = []\r\n\r\n  @Mutation\r\n  async find({promise,payload,callback}){\r\n    this.databaseEntries = await promise;\r\n    let dbState = []\r\n    for(let [key,entries] of Object.entries(this.databaseEntries)){\r\n      let e = entries as Array<any>;\r\n      for(let i=0; i<e.length; i++){\r\n        e[i] = {...e[i], table:key}\r\n        dbState.push(e[i]);\r\n      }\r\n    }\r\n    if(dbState.length == 0){\r\n      dbState = [{table:'',name:'ERROR'}]\r\n    }\r\n    this.dbState = dbState;\r\n    callback(this.dbState);\r\n  }\r\n}","<template>\n  <div id=\"home\">\n    <NavBar></NavBar>\n    <template v-if=\"d\">\n      <section v-for=\"(value,key) in d\" :key=\"key\">\n        <div class=\"header\">\n          <h3>{{ key.toUpperCase() }}</h3>\n          <VueButton :text=\"`New`\" :condition=\"value.await\" @click=\"newData(key,value)\"/>\n        </div>\n        \n        <template v-if=\"value\">\n          <section class=\"data\" v-for=\"(data) in value\" :key=\"data.id\" @click=\"open(`editor`,key,data.id)\">\n            <div>{{ data.name || \"[Unnamed]\" }}</div>\n            <div></div>\n            <ripple/>\n          </section>\n        </template>\n        <template v-else>Loading data...</template>\n      </section>\n    </template>\n  </div>\n</template>\n\n<script lang=\"ts\">\nimport { Options, Vue } from 'vue-class-component';\nimport VueButton from '@/components/VueButton.vue';\nimport NavBar from '@/components/NavBar.vue';\nimport ripple from '@/components/ripple.vue';\n\n@Options({\n  components: { \n    VueButton,\n    NavBar,\n    ripple\n  },\n})\nexport default class Data extends Vue { \n\n  d:{\n    [table: string]:{\n      title:string,\n      await:Promise<any>,\n      data:[]\n    }\n  } = {}\n  \n  diagnostics:any[] = [];\n  diseaseAwait:Promise<any> | boolean = false;\n  drugAwait:Promise<any> | boolean = false;\n  loading:boolean = true;\n\n  mounted(){\n    this.getData();\n  }\n\n  async getData(){\n    this.d = await this.$request.POST(`database/find`, {tables:['disease','drug','nondrug','diagnostic','symptom','sign'],data:{select:['id','name']}}, (res)=>{});\n    for(let [key,item] of Object.entries(this.d)){\n      item = {...item, await:undefined}\n    }\n  }\n\n  open(name,form,id){\n    this.$router.push({name,params:{form,id}});\n  }\n\n  newData(table,metaData){\n    metaData.await = new Promise((resolve, reject)=>{\n      this.$request.POST(`${table}/new`, {}, (res)=>{\n        metaData.data = res;\n        resolve();\n        this.open(`editor`,table,res.id);\n        return res;\n      });\n    });\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n\n  .header{\n    display: grid;\n    grid-template-columns: 1fr auto;\n  }\n\n  section.data{\n    display: grid;\n    grid-template-columns: 1fr auto;\n  }\n\n</style>\n","export { default } from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./autofill.vue?vue&type=style&index=0&id=6384809f&scoped=true&lang=scss\"; export * from \"-!../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./autofill.vue?vue&type=style&index=0&id=6384809f&scoped=true&lang=scss\"","import { render } from \"./PerformanceBar.vue?vue&type=template&id=56fa1aa4&scoped=true&bindings={}\"\nimport script from \"./PerformanceBar.vue?vue&type=script&lang=ts\"\nexport * from \"./PerformanceBar.vue?vue&type=script&lang=ts\"\n\nimport \"./PerformanceBar.vue?vue&type=style&index=0&id=56fa1aa4&scoped=true&lang=scss\"\nscript.render = render\nscript.__scopeId = \"data-v-56fa1aa4\"\n\nexport default script","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\nimport Ripple from '@/components/ripple.vue';\r\nimport Loader from '@/components/spinLoader.vue';\r\n\r\n@Options({\r\n  components: { \r\n    Loader,\r\n    Ripple\r\n  },\r\n})\r\nexport default class Button extends Vue {\r\n  @Prop() text:string;\r\n  @Prop() condition:Promise<any> | boolean;\r\n  clicked:boolean = false;\r\n}\r\n","\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    PerformanceBar,\r\n  },\r\n  emits:[]\r\n})\r\nexport default class PerformanceBar extends Vue {\r\n  @Prop({}) correct:number;\r\n  @Prop({}) incorrect:number;\r\n  @Prop({}) ratio:number;\r\n\r\n  perc;\r\n  mounted(){\r\n    this.updatePerc();\r\n  }\r\n\r\n  @Watch('ratio')\r\n  @Watch('correct')\r\n  @Watch('incorrect')\r\n  updatePerc(){\r\n    this.perc = (this.correct/(this.incorrect+this.correct))*100;\r\n  }\r\n}\r\n","<template>\r\n  <h3 class=\"question\" ref=\"questionWrapper\">\r\n    {{ values.question }}\r\n  </h3>\r\n  <h3 class=\"body\" ref=\"questionWrapper\" v-html=\"values.body\"></h3>\r\n  <div class=\"answer\" v-if=\"showAnswer\" v-html=\"values.answer\"></div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\nimport Editable from \"./Editable.vue\"\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    Question,\r\n  },\r\n  emits:['save','empty']\r\n})\r\nexport default class Question extends Vue {\r\n  @Prop({}) values:any;\r\n  @Prop({}) showAnswer:boolean;\r\n  dbState;\r\n\r\n  mounted(){\r\n    this.dbState = this.$store.state['database'].dbState;\r\n    this.getPlaceholders()\r\n  }\r\n\r\n  getPlaceholders(){\r\n    console.log(\"GET PLACEHOLDERS\");\r\n    \r\n    this.values.body = Editable.prototype.replacePlaceholders(this.values.body,this.dbState);\r\n    this.values.answer = Editable.prototype.replacePlaceholders(this.values.answer,this.dbState);\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n\r\n  .answer{\r\n    font-size: 18px;\r\n    padding-top: 30px;\r\n  }\r\n\r\n  .body{\r\n    padding-top: 15px;\r\n  }\r\n\r\n</style>\r\n","<template>\r\n  <router-view/>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Prop, Watch } from 'vue-property-decorator';\r\n\r\n@Options({\r\n  components: { \r\n  },\r\n  mixins: []\r\n})\r\nexport default class App extends Vue { \r\n  mounted(){\r\n    \r\n  }\r\n}\r\n</script>\r\n\r\n<style>\r\n</style>\r\n","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VueButton.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./VueButton.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./Editor.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./spinLoader.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./spinLoader.vue?vue&type=script&lang=ts\"","export { default } from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./informationPopup.vue?vue&type=script&lang=ts\"; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader-v16/dist/index.js??ref--0-1!./informationPopup.vue?vue&type=script&lang=ts\"","<template>\r\n  <div class=\"performanceBar\">\r\n    <div class=\"correct\" :style=\"{width: `${perc}%`}\"></div>\r\n    <div class=\"incorrect\" :style=\"{width: `${100-perc}%`}\"></div>\r\n  </div>\r\n</template>\r\n\r\n<script lang=\"ts\">\r\nimport { Options, Vue } from 'vue-class-component';\r\nimport { Component, Prop, Watch, Emit} from 'vue-property-decorator'\r\n\r\n@Options({\r\n  props: {\r\n    msg: String\r\n  },\r\n  components: { \r\n    PerformanceBar,\r\n  },\r\n  emits:[]\r\n})\r\nexport default class PerformanceBar extends Vue {\r\n  @Prop({}) correct:number;\r\n  @Prop({}) incorrect:number;\r\n  @Prop({}) ratio:number;\r\n\r\n  perc;\r\n  mounted(){\r\n    this.updatePerc();\r\n  }\r\n\r\n  @Watch('ratio')\r\n  @Watch('correct')\r\n  @Watch('incorrect')\r\n  updatePerc(){\r\n    this.perc = (this.correct/(this.incorrect+this.correct))*100;\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped lang=\"scss\">\r\n.performanceBar{\r\n  position: relative;\r\n  height: 3px;\r\n  width: 300px;\r\n  background: black;\r\n  >div{\r\n    display: inline-block;\r\n    vertical-align: top;\r\n  }\r\n}\r\n  .correct{\r\n    height: 100%;\r\n    background: $green;\r\n  }\r\n  .incorrect{\r\n    height: 100%;\r\n    background: $red;\r\n  }\r\n</style>\r\n","import { Store } from \"vuex\";\r\nimport WebsocketHandler from \"./websocketHandler\";\r\ninterface request{\r\n    id:number,\r\n    method:\"POST\",\r\n    store:string,\r\n    action:string,\r\n    data:Object,\r\n    cb:Function,\r\n    isModule:boolean,\r\n    promise?:Promise<any>,\r\n    resolve?:Function\r\n}\r\nexport default class RequestHandler{\r\n    Store:Store<any>;\r\n    ws:WebsocketHandler;\r\n    activeRequests:request[] = [];\r\n    requestQueue:request[] = [];\r\n    reqCount:number = 1;\r\n\r\n    async POST(req,data,cb){\r\n        \r\n        let id = this.reqCount++;\r\n        let split = req.split(\"/\");\r\n        let store = split[0];\r\n        let action = split[1];\r\n        let payload:request = {\r\n            id,\r\n            method:\"POST\",\r\n            store:store,\r\n            action:action,\r\n            data,\r\n            cb,\r\n            isModule:false,\r\n        }\r\n\r\n        payload.promise = new Promise<any>((resolve,reject) => {\r\n            payload.resolve = resolve;\r\n        });\r\n        \r\n        if(this.ws.connecting){\r\n            this.requestQueue.push(payload);\r\n        }else{\r\n            this.SEND(payload)\r\n        }\r\n\r\n        return payload.promise;\r\n    }\r\n\r\n    SEND(payload:request){\r\n        this.activeRequests[payload.id] = payload;\r\n        payload.isModule = this.vuexModuleExists(payload.store);\r\n        \r\n        let payloadJSONstring = JSON.stringify(payload);\r\n\r\n        if(payload.isModule){\r\n            // @ts-ignore\r\n            if(this.Store._mutations[`${payload.store}/${payload.action}`]){\r\n                this.Store.commit(`${payload.store}/${payload.action}`,{payload:payloadJSONstring, promise:payload.promise, callback:payload.cb});\r\n            }else{\r\n                this.Store.dispatch(`${payload.store}/${payload.action}`,{payload:payloadJSONstring, promise:payload.promise, callback:payload.cb});\r\n            }\r\n        }else{\r\n            this.ws.sendJSONString(payloadJSONstring);\r\n        }\r\n    }\r\n\r\n    vuexModuleExists(name){\r\n        return this.Store.hasModule(name);\r\n    }\r\n\r\n    triggerQueue(){\r\n        for(let request of this.requestQueue){\r\n            this.SEND(request);\r\n        }\r\n    }\r\n}\r\n"],"sourceRoot":""}